<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D·ª± √Ån Qu·∫£n Tr·ªã S·ªë - BQL Khu B·∫£o T·ªìn Thi√™n Nhi√™n P√π Hu·ªëng</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap"
        rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <!-- Leaflet for GIS Map -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth
        }

        .tab-active {
            border-bottom: 3px solid #16a34a;
            color: #16a34a;
            font-weight: 700
        }

        .forest-grad {
            background: linear-gradient(135deg, #16a34a 0%, #065f46 100%)
        }

        .dark-grad {
            background: linear-gradient(160deg, #064e3b 0%, #065f46 30%, #166534 60%, #15803d 100%)
        }

        .sidebar-item {
            transition: all .2s;
            cursor: pointer
        }

        .sidebar-item:hover {
            background: #f0fdf4;
            color: #16a34a;
            transform: translateX(4px)
        }

        .sidebar-item.active {
            background: #16a34a;
            color: #fff;
            box-shadow: 0 4px 12px rgba(22, 163, 74, .25)
        }

        .card-h:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 24px rgba(0, 0, 0, .06)
        }

        .glass {
            background: rgba(255, 255, 255, .85);
            backdrop-filter: blur(12px)
        }

        @keyframes pulse-s {

            0%,
            100% {
                opacity: 1
            }

            50% {
                opacity: .4
            }
        }

        .scan {
            animation: pulse-s 2s infinite
        }

        @keyframes float {

            0%,
            100% {
                transform: translateY(0)
            }

            50% {
                transform: translateY(-8px)
            }
        }

        .float {
            animation: float 3s ease-in-out infinite
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px)
            }

            to {
                opacity: 1;
                transform: translateY(0)
            }
        }

        .slide-up {
            animation: slideUp .5s ease-out
        }

        .feat-card {
            transition: all .3s
        }

        .feat-card:hover {
            transform: translateY(-6px);
            box-shadow: 0 16px 32px rgba(0, 0, 0, .08);
            border-color: #16a34a
        }

        ::-webkit-scrollbar {
            width: 6px
        }

        ::-webkit-scrollbar-thumb {
            background: #d1d5db;
            border-radius: 8px
        }

        .sidebar-scroll::-webkit-scrollbar {
            width: 4px
        }

        .timeline-dot::before {
            content: '';
            position: absolute;
            left: -28px;
            top: 6px;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #16a34a;
            border: 3px solid #dcfce7
        }

        .counter {
            font-variant-numeric: tabular-nums
        }

        /* ===== MOBILE RESPONSIVE ===== */
        /* Sidebar drawer mobile */
        @media (max-width:1023px) {
            #demo-sidebar {
                position: fixed;
                top: 0;
                left: 0;
                height: 100vh;
                z-index: 100;
                transform: translateX(-100%);
                transition: transform .3s cubic-bezier(.4, 0, .2, 1);
                box-shadow: 4px 0 24px rgba(0, 0, 0, .15);
            }

            #demo-sidebar.sidebar-open {
                transform: translateX(0);
            }

            #demo-main-wrap {
                width: 100% !important;
            }
        }

        /* Backdrop overlay */
        #sidebar-backdrop {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, .45);
            z-index: 99;
            backdrop-filter: blur(2px);
        }

        #sidebar-backdrop.show {
            display: block;
        }

        /* Mobile top bar in demo */
        #demo-mobile-bar {
            display: none;
        }

        @media (max-width:1023px) {
            #demo-mobile-bar {
                display: flex;
            }

            #demo-sidebar {
                padding-top: 0;
            }

            /* Adjust demo height on mobile */
            #sec-demo {
                height: 100dvh !important;
            }
        }

        /* Mobile bottom nav */
        #mobile-bottom-nav {
            display: none;
        }

        @media (max-width:1023px) {
            #mobile-bottom-nav {
                display: flex;
            }

            /* push main content up so bottom nav doesn't cover it */
            #demo-main {
                padding-bottom: 72px;
            }
        }

        /* ===== SECTION I + DEMO - MOBILE FINE-TUNING ===== */
        @media (max-width:767px) {

            /* Demo content pages - padding nh·ªè h∆°n */
            #demo-main .p-6 {
                padding: 1rem !important;
            }

            /* Table wrap scroll ngang */
            .overflow-hidden table,
            #demo-main table {
                display: block;
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
                white-space: nowrap;
            }

            /* Section I cards - padding nh·ªè */
            #sec-report .p-6 {
                padding: 1rem !important;
            }

            /* Section I hero padding mobile */
            #sec-report section:first-child>div {
                padding-top: 3.5rem;
                padding-bottom: 3.5rem;
            }

            /* Stat badges wrappable */
            #sec-report .flex.flex-wrap {
                gap: 0.375rem;
            }

            #sec-report .flex.flex-wrap>div {
                flex: 1 1 calc(50% - 0.2rem);
                min-width: 0;
            }

            /* Table b·∫£ng ng√¢n s√°ch */
            #sec-report table {
                font-size: 0.7rem;
            }

            #sec-report table td,
            #sec-report table th {
                padding: 0.6rem !important;
            }
        }

        @media (max-width:479px) {

            /* Header navigation tabs on very small screens */
            header nav button {
                font-size: 0.65rem !important;
                padding-left: 0.4rem !important;
                padding-right: 0.4rem !important;
            }

            /* Module grid card */
            #module-grid>div {
                padding: 0.625rem !important;
                gap: 0.5rem !important;
            }

            #module-grid span {
                font-size: 0.6rem !important;
            }

            #module-grid .w-10 {
                width: 2rem !important;
                height: 2rem !important;
            }
        }
    </style>
</head>

<body class="bg-slate-50 text-slate-900">

    <!-- HEADER -->
    <header class="bg-white/90 border-b sticky top-0 z-50 glass">
        <div class="max-w-7xl mx-auto px-4 md:px-6 h-16 md:h-20 flex justify-between items-center">
            <div class="flex items-center gap-3">
                <div class="p-2 bg-green-600 rounded-xl text-white shadow-lg shadow-green-200">
                    <i data-lucide="trees" class="w-6 h-6"></i>
                </div>
                <div>
                    <h1 class="font-black text-base md:text-lg leading-none text-green-800 tracking-tight">P√ô HU·ªêNG
                        DIGITAL</h1>
                    <p class="text-[9px] text-gray-400 uppercase tracking-[.2em] mt-0.5">H·ªá th·ªëng qu·∫£n tr·ªã s·ªë 4.0</p>
                </div>
            </div>
            <nav class="flex gap-2 md:gap-6">
                <button onclick="switchMain('report')" id="tab-report"
                    class="py-5 md:py-7 px-2 tab-active transition-all text-xs md:text-sm font-semibold">I. THUY·∫æT
                    MINH</button>
                <button onclick="switchMain('demo')" id="tab-demo"
                    class="py-5 md:py-7 px-2 text-gray-400 hover:text-green-600 transition-all text-xs md:text-sm font-semibold">II.
                    DEMO ·ª®NG D·ª§NG</button>
                <button onclick="switchMain('gis')" id="tab-gis"
                    class="py-5 md:py-7 px-2 text-gray-400 hover:text-green-600 transition-all text-xs md:text-sm font-semibold">III.
                    B·∫¢N ƒê·ªí GIS</button>
            </nav>
            <div class="hidden lg:block text-right border-l pl-6 border-gray-100">
                <p class="text-xs font-bold text-gray-800">T∆∞ v·∫•n: L·ªôc V≈© Trung</p>
                <p class="text-[10px] text-green-600 font-medium">GIS & Qu·∫£n l√Ω r·ª´ng b·ªÅn v·ªØng</p>
            </div>
        </div>
    </header>

    <!-- ==================== SECTION I: THUY·∫æT MINH ==================== -->
    <div id="sec-report">

        <!-- HERO -->
        <section class="dark-grad text-white relative overflow-hidden">
            <!-- ·∫¢nh r·ª´ng xanh t∆∞∆°i n·ªÅn -->
            <div class="absolute inset-0">
                <img src="https://images.unsplash.com/photo-1441974231531-c6227db76b6e?auto=format&fit=crop&q=80&w=1600"
                    class="w-full h-full object-cover opacity-40">
                <!-- Overlay xanh l√° nh·∫π ƒë·ªÉ c√¢y c·ªëi xanh t∆∞∆°i -->
                <div class="absolute inset-0"
                    style="background:linear-gradient(160deg,rgba(6,78,59,0.72) 0%,rgba(22,101,52,0.55) 50%,rgba(21,128,61,0.45) 100%)">
                </div>
            </div>
            <div class="relative max-w-6xl mx-auto px-6 py-20 md:py-28">
                <div
                    class="inline-flex items-center gap-2 bg-white/15 border border-white/25 rounded-full px-4 py-1.5 mb-6 text-xs font-semibold backdrop-blur-sm">
                    <span class="w-2 h-2 bg-green-300 rounded-full animate-pulse"></span> D·ª± √°n ƒëang tri·ªÉn khai 2025
                </div>
                <h2 class="text-3xl md:text-5xl font-black mb-6 leading-tight max-w-3xl">S·ªë h√≥a to√†n di·ªán<br>c√¥ng t√°c
                    qu·∫£n l√Ω<br><span class="text-green-300">Khu B·∫£o T·ªìn Thi√™n Nhi√™n P√π Hu·ªëng</span></h2>
                <p class="text-green-100/90 max-w-2xl leading-relaxed mb-8">
                    X√¢y d·ª±ng h·ªá th·ªëng qu·∫£n tr·ªã h·ªì s∆° t·∫≠p trung, k·∫øt h·ª£p c√¥ng ngh·ªá GIS, AI v√† SMART Patrol ƒë·ªÉ hi·ªán ƒë·∫°i
                    h√≥a to√†n b·ªô c√¥ng t√°c l√¢m sinh, h√†nh ch√≠nh v√† b·∫£o t·ªìn ƒëa d·∫°ng sinh h·ªçc t·∫°i P√π Hu·ªëng, Ngh·ªá An.
                </p>
                <div class="flex flex-wrap gap-3">
                    <div class="bg-white/15 backdrop-blur border border-white/20 rounded-2xl px-5 py-3 text-center">
                        <p class="text-2xl font-black text-green-300">40,128</p>
                        <p class="text-[10px] text-green-100/80 uppercase tracking-wider">Ha di·ªán t√≠ch</p>
                    </div>
                    <div class="bg-white/15 backdrop-blur border border-white/20 rounded-2xl px-5 py-3 text-center">
                        <p class="text-2xl font-black text-green-300">19+</p>
                        <p class="text-[10px] text-green-100/80 uppercase tracking-wider">Module ph·∫ßn m·ªÅm</p>
                    </div>
                    <div class="bg-white/15 backdrop-blur border border-white/20 rounded-2xl px-5 py-3 text-center">
                        <p class="text-2xl font-black text-green-300">124</p>
                        <p class="text-[10px] text-green-100/80 uppercase tracking-wider">C√°n b·ªô CNV</p>
                    </div>
                    <div class="bg-white/15 backdrop-blur border border-white/20 rounded-2xl px-5 py-3 text-center">
                        <p class="text-2xl font-black text-green-300">AI</p>
                        <p class="text-[10px] text-green-100/80 uppercase tracking-wider">T√≠ch h·ª£p tr·ª£ l√Ω</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- M·ª§C TI√äU -->
        <section class="max-w-6xl mx-auto px-6 py-16">
            <div class="text-center mb-12">
                <p class="text-xs font-bold text-green-600 uppercase tracking-widest mb-2">T·∫ßm nh√¨n & Chi·∫øn l∆∞·ª£c</p>
                <h3 class="text-2xl md:text-3xl font-black text-slate-800">M·ª•c ti√™u c·ªët l√µi c·ªßa d·ª± √°n</h3>
            </div>
            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-5">
                <div class="bg-white p-6 rounded-2xl border border-gray-100 shadow-sm feat-card">
                    <div class="w-12 h-12 bg-green-50 text-green-600 rounded-2xl flex items-center justify-center mb-4">
                        <i data-lucide="file-check" class="w-6 h-6"></i>
                    </div>
                    <h4 class="font-bold mb-2">S·ªë h√≥a 100%</h4>
                    <p class="text-sm text-gray-500">To√†n b·ªô h·ªì s∆°, c√¥ng vƒÉn v√† d·ªØ li·ªáu l√¢m sinh ƒë∆∞·ª£c l∆∞u tr·ªØ ƒëi·ªán t·ª≠.
                    </p>
                </div>
                <div class="bg-white p-6 rounded-2xl border border-gray-100 shadow-sm feat-card">
                    <div class="w-12 h-12 bg-blue-50 text-blue-600 rounded-2xl flex items-center justify-center mb-4"><i
                            data-lucide="map-pin" class="w-6 h-6"></i></div>
                    <h4 class="font-bold mb-2">GIS & SMART</h4>
                    <p class="text-sm text-gray-500">Gi√°m s√°t r·ª´ng qua b·∫£n ƒë·ªì GIS, t√≠ch h·ª£p SMART Patrol v√† b·∫´y ·∫£nh.</p>
                </div>
                <div class="bg-white p-6 rounded-2xl border border-gray-100 shadow-sm feat-card">
                    <div
                        class="w-12 h-12 bg-purple-50 text-purple-600 rounded-2xl flex items-center justify-center mb-4">
                        <i data-lucide="bot" class="w-6 h-6"></i>
                    </div>
                    <h4 class="font-bold mb-2">AI Tr·ª£ l√Ω</h4>
                    <p class="text-sm text-gray-500">Tra c·ª©u nhanh lu·∫≠t l√¢m nghi·ªáp, quy ƒë·ªãnh n·ªôi b·ªô b·∫±ng tr√≠ tu·ªá nh√¢n
                        t·∫°o.</p>
                </div>
                <div class="bg-white p-6 rounded-2xl border border-gray-100 shadow-sm feat-card">
                    <div
                        class="w-12 h-12 bg-orange-50 text-orange-600 rounded-2xl flex items-center justify-center mb-4">
                        <i data-lucide="wifi-off" class="w-6 h-6"></i>
                    </div>
                    <h4 class="font-bold mb-2">Online & Offline</h4>
                    <p class="text-sm text-gray-500">Ho·∫°t ƒë·ªông c·∫£ khi m·∫•t k·∫øt n·ªëi t·∫°i c√°c tr·∫°m ki·ªÉm l√¢m v√πng s√¢u.</p>
                </div>
            </div>
        </section>

        <!-- 19 MODULE -->
        <section class="bg-white py-16 border-y border-gray-100">
            <div class="max-w-6xl mx-auto px-6">
                <div class="text-center mb-12">
                    <p class="text-xs font-bold text-green-600 uppercase tracking-widest mb-2">Ki·∫øn tr√∫c h·ªá th·ªëng</p>
                    <h3 class="text-2xl md:text-3xl font-black text-slate-800">19 Module ch·ª©c nƒÉng</h3>
                </div>
                <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3" id="module-grid"></div>
            </div>
        </section>

        <!-- NG√ÇN S√ÅCH -->
        <section class="max-w-6xl mx-auto px-6 py-16">
            <div class="grid lg:grid-cols-2 gap-10">
                <div>
                    <p class="text-xs font-bold text-green-600 uppercase tracking-widest mb-2">T√†i ch√≠nh</p>
                    <h3 class="text-2xl font-black text-slate-800 mb-6">D·ª± to√°n ng√¢n s√°ch 3 nƒÉm</h3>
                    <div class="bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden">
                        <table class="w-full text-sm">
                            <thead class="bg-slate-50 border-b">
                                <tr>
                                    <th class="p-4 text-left font-bold text-gray-600">H·∫°ng m·ª•c</th>
                                    <th class="p-4 text-right font-bold text-gray-600">Chi ph√≠</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-gray-50">
                                <tr>
                                    <td class="p-4 flex items-center gap-2"><i data-lucide="server"
                                            class="w-4 h-4 text-blue-500"></i> H·∫° t·∫ßng VPS (3 nƒÉm)</td>
                                    <td class="p-4 text-right font-semibold">3.000.000ƒë</td>
                                </tr>
                                <tr>
                                    <td class="p-4 flex items-center gap-2"><i data-lucide="cloud"
                                            class="w-4 h-4 text-sky-500"></i> Google Workspace 2TB (3 nƒÉm)</td>
                                    <td class="p-4 text-right font-semibold">6.000.000ƒë</td>
                                </tr>
                                <tr>
                                    <td class="p-4 flex items-center gap-2"><i data-lucide="globe"
                                            class="w-4 h-4 text-green-500"></i> T√™n mi·ªÅn (600k/nƒÉm √ó 3)</td>
                                    <td class="p-4 text-right font-semibold">1.800.000ƒë</td>
                                </tr>
                                <tr>
                                    <td class="p-4 flex items-center gap-2"><i data-lucide="cpu"
                                            class="w-4 h-4 text-purple-500"></i> API AI Token (3 nƒÉm)</td>
                                    <td class="p-4 text-right font-semibold">3.000.000ƒë</td>
                                </tr>
                                <tr class="bg-green-50">
                                    <td class="p-4 flex items-center gap-2 font-bold text-green-700"><i
                                            data-lucide="code" class="w-4 h-4"></i> Ph√°t tri·ªÉn PM & V·∫≠n h√†nh (2 th√°ng)
                                    </td>
                                    <td class="p-4 text-right font-bold text-green-700">60.000.000ƒë</td>
                                </tr>
                            </tbody>
                            <tfoot class="bg-slate-900 text-white">
                                <tr>
                                    <td class="p-4 font-bold">T·ªîNG C·ªòNG</td>
                                    <td class="p-4 text-right text-lg font-black text-green-400">73.800.000ƒë</td>
                                </tr>
                            </tfoot>
                        </table>
                    </div>
                </div>
                <div>
                    <p class="text-xs font-bold text-green-600 uppercase tracking-widest mb-2">L·ªô tr√¨nh</p>
                    <h3 class="text-2xl font-black text-slate-800 mb-6">Timeline tri·ªÉn khai (8 tu·∫ßn)</h3>
                    <div class="space-y-0 border-l-2 border-green-200 ml-4">
                        <div class="relative pl-8 pb-6 timeline-dot">
                            <p class="text-xs font-bold text-green-600">Tu·∫ßn 1-2</p>
                            <p class="font-bold text-sm">Kh·∫£o s√°t & Thi·∫øt k·∫ø h·ªá th·ªëng</p>
                            <p class="text-xs text-gray-500">Thu th·∫≠p y√™u c·∫ßu, thi·∫øt k·∫ø CSDL, UI/UX prototype</p>
                        </div>
                        <div class="relative pl-8 pb-6 timeline-dot">
                            <p class="text-xs font-bold text-green-600">Tu·∫ßn 3-4</p>
                            <p class="font-bold text-sm">Ph√°t tri·ªÉn Module l√µi</p>
                            <p class="text-xs text-gray-500">Nh√¢n s·ª±, C√¥ng vƒÉn, Kho, XƒÉng d·∫ßu, Nh√† b·∫øp, L∆∞∆°ng</p>
                        </div>
                        <div class="relative pl-8 pb-6 timeline-dot">
                            <p class="text-xs font-bold text-green-600">Tu·∫ßn 5-6</p>
                            <p class="font-bold text-sm">Module chuy√™n s√¢u</p>
                            <p class="text-xs text-gray-500">GIS, SMART Patrol, Bio-Database, AI, R·ª´ng tr·ªìng</p>
                        </div>
                        <div class="relative pl-8 pb-6 timeline-dot">
                            <p class="text-xs font-bold text-green-600">Tu·∫ßn 7</p>
                            <p class="font-bold text-sm">T√≠ch h·ª£p & V√πng ƒë·ªám</p>
                            <p class="text-xs text-gray-500">Du l·ªãch gi√°o d·ª•c, Community, Tin t·ª©c, Ph√¢n quy·ªÅn</p>
                        </div>
                        <div class="relative pl-8 timeline-dot">
                            <p class="text-xs font-bold text-green-600">Tu·∫ßn 8</p>
                            <p class="font-bold text-sm">Testing & Go-live</p>
                            <p class="text-xs text-gray-500">UAT, ƒë√†o t·∫°o c√°n b·ªô, tri·ªÉn khai ch√≠nh th·ª©c</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- C√îNG NGH·ªÜ -->
        <section class="bg-slate-900 text-white py-16">
            <div class="max-w-6xl mx-auto px-6">
                <div class="text-center mb-10">
                    <p class="text-xs font-bold text-green-400 uppercase tracking-widest mb-2">N·ªÅn t·∫£ng</p>
                    <h3 class="text-2xl font-black">C√¥ng ngh·ªá s·ª≠ d·ª•ng</h3>
                </div>
                <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 text-center">
                    <div class="bg-white/5 border border-white/10 rounded-2xl p-4">
                        <p class="text-2xl mb-1">üåê</p>
                        <p class="text-xs font-bold">HTML/CSS/JS</p>
                        <p class="text-[10px] text-gray-400">Frontend</p>
                    </div>
                    <div class="bg-white/5 border border-white/10 rounded-2xl p-4">
                        <p class="text-2xl mb-1">‚ö°</p>
                        <p class="text-xs font-bold">Node.js</p>
                        <p class="text-[10px] text-gray-400">Backend</p>
                    </div>
                    <div class="bg-white/5 border border-white/10 rounded-2xl p-4">
                        <p class="text-2xl mb-1">üóÑÔ∏è</p>
                        <p class="text-xs font-bold">PostgreSQL</p>
                        <p class="text-[10px] text-gray-400">Database</p>
                    </div>
                    <div class="bg-white/5 border border-white/10 rounded-2xl p-4">
                        <p class="text-2xl mb-1">üó∫Ô∏è</p>
                        <p class="text-xs font-bold">Leaflet GIS</p>
                        <p class="text-[10px] text-gray-400">B·∫£n ƒë·ªì</p>
                    </div>
                    <div class="bg-white/5 border border-white/10 rounded-2xl p-4">
                        <p class="text-2xl mb-1">ü§ñ</p>
                        <p class="text-xs font-bold">Claude AI</p>
                        <p class="text-[10px] text-gray-400">Tr·ª£ l√Ω AI</p>
                    </div>
                    <div class="bg-white/5 border border-white/10 rounded-2xl p-4">
                        <p class="text-2xl mb-1">‚òÅÔ∏è</p>
                        <p class="text-xs font-bold">VPS Linux</p>
                        <p class="text-[10px] text-gray-400">Hosting</p>
                    </div>
                </div>
            </div>
        </section>

    </div><!-- end sec-report -->

    <!-- ==================== SECTION III: GIS MAP ==================== -->
    <div id="sec-gis" class="hidden" style="height:calc(100vh - 64px); display:flex; flex-direction:column;">
        <!-- Toolbar -->
        <div class="bg-white border-b px-4 py-2 flex items-center justify-between shrink-0 z-10">
            <div class="flex items-center gap-3">
                <div class="p-1.5 bg-green-600 rounded-lg text-white"><i data-lucide="map" class="w-4 h-4"></i></div>
                <div>
                    <p class="text-sm font-bold text-slate-800">B·∫£n ƒë·ªì tr·∫°ng th√°i r·ª´ng - Khu B·∫£o T·ªìn Thi√™n Nhi√™n P√π
                        Hu·ªëng</p>
                    <p class="text-[10px] text-gray-400">Ngu·ªìn: Ki·ªÉm k√™ r·ª´ng t·ªânh Ngh·ªá An | H·ªá t·ªça ƒë·ªô WGS84</p>
                </div>
            </div>
            <div class="flex items-center gap-2">
                <div id="gis-status" class="text-[10px] text-gray-500 flex items-center gap-1">
                    <span class="w-2 h-2 bg-amber-400 rounded-full animate-pulse inline-block"></span> Ch∆∞a t·∫£i d·ªØ li·ªáu
                </div>
                <button type="button" onclick="reloadGISLayer()"
                    class="text-[10px] bg-green-50 text-green-700 border border-green-200 px-3 py-1.5 rounded-lg font-medium hover:bg-green-100 flex items-center gap-1">
                    <i data-lucide="layers" class="w-3 h-3"></i> T·∫£i l·ªõp GIS
                </button>
            </div>
        </div>
        <!-- Map container -->
        <div class="relative flex-1">
            <div id="gis-map" style="height:100%;width:100%;"></div>
            <!-- Legend -->
            <div id="gis-legend"
                class="absolute bottom-8 right-3 z-[999] bg-white/95 backdrop-blur rounded-xl shadow-xl border border-gray-200 p-3"
                style="max-height:45vh;width:210px;overflow-y:auto;display:none;">
                <p class="text-[10px] font-bold text-gray-600 uppercase tracking-wider mb-2">Ch√∫ gi·∫£i LDLR_VT</p>
                <div id="gis-legend-items" class="space-y-1"></div>
            </div>
            <!-- Loading overlay -->
            <div id="gis-loading"
                class="absolute inset-0 bg-slate-900/60 flex flex-col items-center justify-center z-[1000]"
                style="display:none!important">
                <div class="bg-white rounded-2xl p-6 text-center shadow-2xl">
                    <div
                        class="w-12 h-12 border-4 border-green-600 border-t-transparent rounded-full animate-spin mx-auto mb-3">
                    </div>
                    <p class="font-bold text-slate-700 text-sm">ƒêang t·∫£i d·ªØ li·ªáu GIS...</p>
                    <p id="gis-load-pct" class="text-xs text-gray-400 mt-1">Vui l√≤ng ch·ªù (188 MB)</p>
                </div>
            </div>
        </div>
    </div>

    <!-- ==================== SECTION II: DEMO APP ==================== -->
    <div id="sec-demo" class="hidden" style="height:calc(100vh - 64px)">
        <!-- Backdrop overlay (mobile) -->
        <div id="sidebar-backdrop" onclick="closeSidebar()"></div>

        <div class="flex h-full relative">
            <!-- Sidebar (PC: static | Mobile: drawer) -->
            <aside id="demo-sidebar"
                class="w-72 lg:w-64 bg-white border-r flex flex-col shrink-0 overflow-hidden lg:relative lg:transform-none">
                <!-- Sidebar header -->
                <div class="p-4 border-b border-gray-100 bg-white flex items-center justify-between">
                    <div class="flex items-center gap-2.5">
                        <div
                            class="w-9 h-9 bg-green-600 rounded-xl text-white flex items-center justify-center shadow-md shadow-green-200">
                            <i data-lucide="trees" class="w-5 h-5"></i>
                        </div>
                        <div>
                            <p class="text-sm font-black text-green-800 leading-none">P√ô HU·ªêNG</p>
                            <p class="text-[10px] text-gray-400 font-medium">v2.0 Demo</p>
                        </div>
                    </div>
                    <!-- Close button (mobile only) -->
                    <button onclick="closeSidebar()"
                        class="lg:hidden w-8 h-8 rounded-lg flex items-center justify-center text-gray-400 hover:bg-gray-100 hover:text-gray-600 transition-colors">
                        <i data-lucide="x" class="w-5 h-5"></i>
                    </button>
                </div>

                <!-- Nav menu -->
                <nav class="flex-1 overflow-y-auto sidebar-scroll p-3 space-y-0.5" id="sidebar-nav"></nav>

                <!-- User footer -->
                <div class="p-3 border-t bg-slate-50">
                    <div class="flex items-center gap-2.5 px-2 py-2 rounded-xl">
                        <div
                            class="w-9 h-9 rounded-full bg-green-600 text-white flex items-center justify-center font-bold text-xs shadow">
                            LVT</div>
                        <div class="overflow-hidden flex-1">
                            <p class="text-xs font-bold truncate">L·ªôc V≈© Trung</p>
                            <p class="text-[10px] text-gray-400">Qu·∫£n tr·ªã vi√™n</p>
                        </div>
                        <button type="button" aria-label="ƒêƒÉng xu·∫•t"
                            class="text-gray-300 hover:text-red-500 transition-colors">
                            <i data-lucide="log-out" class="w-4 h-4"></i>
                        </button>
                    </div>
                </div>
            </aside>

            <!-- Main Content wrapper -->
            <div id="demo-main-wrap" class="flex flex-col flex-1 overflow-hidden">
                <!-- Mobile top bar -->
                <div id="demo-mobile-bar"
                    class="lg:hidden bg-white border-b px-4 h-14 flex items-center gap-3 shrink-0">
                    <button type="button" onclick="openSidebar()"
                        class="w-9 h-9 rounded-xl bg-green-50 text-green-700 flex items-center justify-center hover:bg-green-100 transition-colors">
                        <i data-lucide="menu" class="w-5 h-5"></i>
                    </button>
                    <div class="flex items-center gap-2 flex-1 min-w-0">
                        <span id="mobile-current-page" class="text-sm font-bold text-slate-800 truncate">B·∫£ng ƒëi·ªÅu
                            khi·ªÉn</span>
                    </div>
                    <div
                        class="w-8 h-8 rounded-full bg-green-600 text-white flex items-center justify-center font-bold text-[10px]">
                        LVT</div>
                </div>

                <!-- Content area -->
                <main class="flex-1 overflow-y-auto bg-gray-50" id="demo-main"></main>
            </div>
        </div>
    </div>

    <!-- FOOTER -->
    <footer id="global-footer" class="bg-white border-t py-8 px-6">
        <div class="max-w-6xl mx-auto flex flex-col md:flex-row justify-between items-center gap-4">
            <div class="flex items-center gap-3">
                <div class="p-2 bg-slate-100 rounded-lg"><i data-lucide="award" class="w-5 h-5 text-green-700"></i>
                </div>
                <div class="text-[11px] text-gray-500 leading-tight">
                    <strong>BAN QU·∫¢N L√ù KHU B·∫¢O T·ªíN THI√äN NHI√äN P√ô HU·ªêNG - NGH·ªÜ AN</strong><br>
                    T∆∞ v·∫•n thi·∫øt k·∫ø: <strong>L·ªôc V≈© Trung</strong> - Chuy√™n gia GIS & D·ªØ li·ªáu s·ªë L√¢m nghi·ªáp
                </div>
            </div>
            <div class="flex gap-2">
                <span
                    class="flex items-center gap-1.5 text-[10px] font-bold text-gray-400 border px-3 py-1.5 rounded-full"><i
                        data-lucide="shield-check" class="w-3 h-3"></i> SSL</span>
                <span
                    class="flex items-center gap-1.5 text-[10px] font-bold text-gray-400 border px-3 py-1.5 rounded-full"><i
                        data-lucide="hard-drive" class="w-3 h-3"></i> 2TB Cloud</span>
                <span
                    class="flex items-center gap-1.5 text-[10px] font-bold text-gray-400 border px-3 py-1.5 rounded-full"><i
                        data-lucide="wifi" class="w-3 h-3"></i> Online/Offline</span>
            </div>
        </div>
    </footer>

    <script>
        // ========== DATA ==========
        const MODULES = [
            { id: 'dashboard', icon: 'layout-dashboard', name: 'T·ªïng quan', color: 'green', group: 'main' },
            { id: 'gis', icon: 'map', name: 'GIS & B·∫£n ƒë·ªì', color: 'emerald', group: 'main' },
            { id: 'smart', icon: 'radar', name: 'SMART & Tu·∫ßn tra', color: 'teal', group: 'main' },
            { id: 'bio', icon: 'leaf', name: 'ƒê·ªông - Th·ª±c v·∫≠t', color: 'lime', group: 'main' },
            { id: 'hr', icon: 'users', name: 'Nh√¢n s·ª± & L∆∞∆°ng', color: 'blue', group: 'admin' },
            { id: 'attendance', icon: 'calendar-check', name: 'Ch·∫•m c√¥ng & Ngh·ªâ ph√©p', color: 'indigo', group: 'admin' },
            { id: 'docin', icon: 'file-input', name: 'C√¥ng vƒÉn ƒê·∫øn - ƒêi', color: 'sky', group: 'admin' },
            { id: 'archive', icon: 'archive', name: 'L∆∞u tr·ªØ H·ªì s∆°', color: 'cyan', group: 'admin' },
            { id: 'warehouse', icon: 'warehouse', name: 'Qu·∫£n l√Ω Kho', color: 'amber', group: 'logistics' },
            { id: 'fuel', icon: 'fuel', name: 'XƒÉng d·∫ßu & Xe m√°y', color: 'orange', group: 'logistics' },
            { id: 'kitchen', icon: 'cooking-pot', name: 'Qu·∫£n l√Ω Nh√† b·∫øp', color: 'red', group: 'logistics' },
            { id: 'forest', icon: 'tree-pine', name: 'R·ª´ng tr·ªìng & C√¢y xanh', color: 'green', group: 'forestry' },
            { id: 'evaluate', icon: 'bar-chart-3', name: 'ƒê√°nh gi√° NƒÉng l·ª±c', color: 'violet', group: 'forestry' },
            { id: 'tourism', icon: 'backpack', name: 'Du l·ªãch & Gi√°o d·ª•c', color: 'pink', group: 'community' },
            { id: 'community', icon: 'home', name: 'V√πng ƒë·ªám & DVMTR', color: 'rose', group: 'community' },
            { id: 'news', icon: 'newspaper', name: 'Tin t·ª©c N·ªôi b·ªô', color: 'slate', group: 'community' },
            { id: 'permission', icon: 'shield', name: 'Ph√¢n quy·ªÅn', color: 'gray', group: 'system' },
            { id: 'ai', icon: 'bot', name: 'AI Tr·ª£ l√Ω Lu·∫≠t', color: 'green', group: 'system', highlight: true },
        ];

        const GROUPS = [
            { key: 'main', label: 'Gi√°m s√°t & B·∫£o t·ªìn' },
            { key: 'admin', label: 'H√†nh ch√≠nh' },
            { key: 'logistics', label: 'H·∫≠u c·∫ßn' },
            { key: 'forestry', label: 'L√¢m sinh' },
            { key: 'community', label: 'C·ªông ƒë·ªìng' },
            { key: 'system', label: 'H·ªá th·ªëng' },
        ];

        // ========== MODULE GRID (Thuy·∫øt minh) ==========
        const moduleGrid = document.getElementById('module-grid');
        const colorMap = { green: 'bg-green-50 text-green-600', emerald: 'bg-emerald-50 text-emerald-600', teal: 'bg-teal-50 text-teal-600', lime: 'bg-lime-50 text-lime-600', blue: 'bg-blue-50 text-blue-600', indigo: 'bg-indigo-50 text-indigo-600', sky: 'bg-sky-50 text-sky-600', cyan: 'bg-cyan-50 text-cyan-600', amber: 'bg-amber-50 text-amber-600', orange: 'bg-orange-50 text-orange-600', red: 'bg-red-50 text-red-600', violet: 'bg-violet-50 text-violet-600', pink: 'bg-pink-50 text-pink-600', rose: 'bg-rose-50 text-rose-600', slate: 'bg-slate-100 text-slate-600', gray: 'bg-gray-100 text-gray-600' };
        MODULES.forEach(m => {
            const c = colorMap[m.color] || 'bg-gray-50 text-gray-600';
            moduleGrid.innerHTML += `<div class="bg-white p-4 rounded-xl border border-gray-100 flex items-center gap-3 feat-card">
        <div class="w-10 h-10 ${c} rounded-xl flex items-center justify-center shrink-0"><i data-lucide="${m.icon}" class="w-5 h-5"></i></div>
        <span class="text-xs font-bold text-slate-700">${m.name}</span>
    </div>`;
        });

        // ========== SIDEBAR ==========
        const sidebarNav = document.getElementById('sidebar-nav');
        GROUPS.forEach(g => {
            sidebarNav.innerHTML += `<p class="text-[9px] font-bold text-gray-400 uppercase tracking-widest px-3 pt-4 pb-1 select-none">${g.label}</p>`;
            MODULES.filter(m => m.group === g.key).forEach(m => {
                const hl = m.highlight ? 'bg-green-100 border border-green-200 text-green-700 font-bold' : '';
                sidebarNav.innerHTML += `<a onclick="showTab('${m.id}',this)" class="sidebar-item ${m.id === 'dashboard' ? 'active' : ''} ${hl} flex items-center gap-3 px-3 py-2.5 rounded-xl text-[13px]"><i data-lucide="${m.icon}" class="w-4 h-4 shrink-0"></i>${m.name}</a>`;
            });
        });

        // ========== SIDEBAR TOGGLE (MOBILE) ==========
        function openSidebar() {
            const s = document.getElementById('demo-sidebar');
            const b = document.getElementById('sidebar-backdrop');
            s.classList.add('sidebar-open');
            b.classList.add('show');
            document.body.style.overflow = 'hidden';
        }
        function closeSidebar() {
            const s = document.getElementById('demo-sidebar');
            const b = document.getElementById('sidebar-backdrop');
            s.classList.remove('sidebar-open');
            b.classList.remove('show');
            document.body.style.overflow = '';
        }

        // ========== DEMO CONTENT GENERATORS ==========
        function statCard(icon, label, value, extra, colorClass) {
            return `<div class="bg-white p-5 border border-gray-100 rounded-2xl shadow-sm card-h transition-all">
        <div class="flex items-center gap-3 mb-3"><div class="w-10 h-10 ${colorClass} rounded-xl flex items-center justify-center"><i data-lucide="${icon}" class="w-5 h-5"></i></div>
        <span class="text-gray-500 text-[10px] font-bold uppercase tracking-tight">${label}</span></div>
        <h4 class="text-2xl font-black">${value} <span class="text-xs font-normal ${extra.includes('+') ? 'text-green-500' : extra.includes('‚Üì') ? 'text-red-500' : 'text-gray-400'} ml-1">${extra}</span></h4>
    </div>`;
        }

        function tableWrap(headers, rows) {
            let h = headers.map(x => `<th class="p-3 text-left text-[11px] font-bold text-gray-500 uppercase">${x}</th>`).join('');
            let r = rows.map(row => `<tr class="hover:bg-slate-50 transition-colors">${row.map(c => `<td class="p-3 text-sm">${c}</td>`).join('')}</tr>`).join('');
            return `<div class="bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden"><table class="w-full"><thead class="bg-slate-50 border-b"><tr>${h}</tr></thead><tbody class="divide-y">${r}</tbody></table></div>`;
        }

        function badge(text, color) { return `<span class="px-2 py-0.5 bg-${color}-100 text-${color}-700 text-[10px] rounded-full font-bold">${text}</span>`; }

        function pageHeader(title, subtitle, btnText, btnIcon) {
            return `<div class="flex justify-between items-end mb-6"><div><h2 class="text-xl font-black text-slate-800">${title}</h2><p class="text-xs text-gray-500 mt-1">${subtitle || ''}</p></div>
    ${btnText ? `<button class="bg-green-600 text-white px-4 py-2 rounded-xl text-xs font-bold shadow-lg shadow-green-100 flex items-center gap-2 hover:bg-green-700"><i data-lucide="${btnIcon || 'plus'}" class="w-4 h-4"></i>${btnText}</button>` : ''}</div>`;
        }

        function progressBar(label, pct, color) {
            return `<div class="mb-3"><div class="flex justify-between text-[11px] font-bold mb-1"><span>${label}</span><span>${pct}%</span></div>
    <div class="w-full bg-gray-100 h-2.5 rounded-full overflow-hidden"><div class="bg-${color}-500 h-full rounded-full transition-all duration-1000" style="width:${pct}%"></div></div></div>`;
        }

        // ========== ALL DEMO PAGES ==========
        const PAGES = {
            dashboard: () => `<div class="p-6 slide-up">
    ${pageHeader('B·∫£ng ƒëi·ªÅu khi·ªÉn h·ªá th·ªëng', 'C·∫≠p nh·∫≠t realtime - Khu BTTN P√π Hu·ªëng')}
    <div class="grid grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
        ${statCard('file-text', 'C√¥ng vƒÉn', '124', '+5 h√¥m nay', 'bg-blue-50 text-blue-600')}
        ${statCard('users', 'C√°n b·ªô', '124', '08 ƒëang tr·ª±c', 'bg-green-50 text-green-600')}
        ${statCard('fuel', 'XƒÉng d·∫ßu', '450L', '‚Üì 12%', 'bg-orange-50 text-orange-600')}
        ${statCard('database', 'L∆∞u tr·ªØ', '280GB', '/2TB', 'bg-purple-50 text-purple-600')}
    </div>
    <div class="grid lg:grid-cols-2 gap-6">
        <div class="bg-white border border-gray-100 rounded-2xl p-5 shadow-sm">
            <h4 class="font-bold text-sm flex items-center gap-2 mb-4"><i data-lucide="activity" class="text-green-600 w-4 h-4"></i> Tu·∫ßn tra h√¥m nay</h4>
            <div class="h-48 bg-slate-900 rounded-xl relative overflow-hidden flex items-center justify-center">
                <img src="https://images.unsplash.com/photo-1441974231531-c6227db76b6e?auto=format&fit=crop&q=80&w=600" class="w-full h-full object-cover opacity-30">
                <div class="absolute inset-0 flex items-center justify-center"><div class="bg-white/90 backdrop-blur px-4 py-2 rounded-full shadow flex items-center gap-2"><span class="w-2 h-2 bg-green-500 rounded-full animate-ping"></span><span class="text-xs font-bold">3/8 Tr·∫°m ƒëang tr·ª±c tuy·∫øn</span></div></div>
            </div>
        </div>
        <div class="bg-white border border-gray-100 rounded-2xl p-5 shadow-sm">
            <h4 class="font-bold text-sm flex items-center gap-2 mb-4"><i data-lucide="clock" class="text-blue-600 w-4 h-4"></i> Ho·∫°t ƒë·ªông g·∫ßn ƒë√¢y</h4>
            <div class="space-y-4">
                <div class="flex gap-3"><div class="w-8 h-8 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center shrink-0"><i data-lucide="file-plus" class="w-3.5 h-3.5"></i></div><div><p class="text-xs font-semibold">Nh·∫≠n c√¥ng vƒÉn m·ªõi #124/UBND-NV</p><p class="text-[10px] text-gray-400">10 ph√∫t tr∆∞·ªõc</p></div></div>
                <div class="flex gap-3"><div class="w-8 h-8 rounded-full bg-green-100 text-green-600 flex items-center justify-center shrink-0"><i data-lucide="check-square" class="w-3.5 h-3.5"></i></div><div><p class="text-xs font-semibold">Ph√™ duy·ªát b·∫£ng l∆∞∆°ng th√°ng 01/2025</p><p class="text-[10px] text-gray-400">45 ph√∫t tr∆∞·ªõc</p></div></div>
                <div class="flex gap-3"><div class="w-8 h-8 rounded-full bg-orange-100 text-orange-600 flex items-center justify-center shrink-0"><i data-lucide="alert-triangle" class="w-3.5 h-3.5"></i></div><div><p class="text-xs font-semibold">C·∫£nh b√°o: Tr·∫°m 2 s·∫Øp h·∫øt xƒÉng</p><p class="text-[10px] text-gray-400">2 gi·ªù tr∆∞·ªõc</p></div></div>
                <div class="flex gap-3"><div class="w-8 h-8 rounded-full bg-purple-100 text-purple-600 flex items-center justify-center shrink-0"><i data-lucide="camera" class="w-3.5 h-3.5"></i></div><div><p class="text-xs font-semibold">B·∫´y ·∫£nh #07 ph√°t hi·ªán Sao la</p><p class="text-[10px] text-gray-400">5 gi·ªù tr∆∞·ªõc</p></div></div>
            </div>
        </div>
    </div>
</div>`,

            gis: () => `<div class="p-6 slide-up">
    ${pageHeader('GIS & Gi√°m s√°t R·ª´ng', 'B·∫£n ƒë·ªì s·ªë Khu BTTN P√π Hu·ªëng - 40,128 ha', 'Thay ƒë·ªïi l·ªõp', 'layers')}
    <div class="bg-slate-900 rounded-2xl h-[480px] relative overflow-hidden border-2 border-white shadow-xl mb-6">
        <img src="https://images.unsplash.com/photo-1542601906990-b4d3fb778b09?auto=format&fit=crop&q=80&w=1200" class="w-full h-full object-cover opacity-30 grayscale">
        <div class="absolute top-4 left-4 bg-white/90 backdrop-blur rounded-xl p-3 shadow-lg">
            <p class="text-[10px] font-bold text-gray-500 mb-2">L·ªöP B·∫¢N ƒê·ªí</p>
            <label class="flex items-center gap-2 text-xs mb-1"><input type="checkbox" checked class="accent-green-600"> Ranh gi·ªõi KBT</label>
            <label class="flex items-center gap-2 text-xs mb-1"><input type="checkbox" checked class="accent-green-600"> Tr·∫°m ki·ªÉm l√¢m</label>
            <label class="flex items-center gap-2 text-xs mb-1"><input type="checkbox" class="accent-green-600"> B·∫´y ·∫£nh</label>
            <label class="flex items-center gap-2 text-xs"><input type="checkbox" class="accent-green-600"> R·ª´ng tr·ªìng</label>
        </div>
        <div class="absolute top-4 right-4 space-y-2">
            <button class="w-8 h-8 bg-white rounded-lg shadow flex items-center justify-center hover:bg-gray-50"><i data-lucide="plus" class="w-4 h-4"></i></button>
            <button class="w-8 h-8 bg-white rounded-lg shadow flex items-center justify-center hover:bg-gray-50"><i data-lucide="minus" class="w-4 h-4"></i></button>
            <button class="w-8 h-8 bg-white rounded-lg shadow flex items-center justify-center hover:bg-gray-50"><i data-lucide="locate" class="w-4 h-4"></i></button>
        </div>
        <div class="absolute top-1/3 left-1/4 group cursor-pointer"><div class="bg-red-500 w-4 h-4 rounded-full border-3 border-white shadow-lg animate-bounce"></div><div class="hidden group-hover:block absolute bg-white p-2 rounded-lg text-[10px] w-36 shadow-xl -top-14 -left-16 z-10"><p class="font-bold">Tr·∫°m KL Ch√¢u C∆∞·ªùng</p><p class="text-gray-500">Tr·ª±c: 4 ng∆∞·ªùi</p></div></div>
        <div class="absolute top-1/2 right-1/3 group cursor-pointer"><div class="bg-green-500 w-4 h-4 rounded-full border-3 border-white shadow-lg"></div></div>
        <div class="absolute bottom-1/3 left-1/2 group cursor-pointer"><div class="bg-yellow-400 w-4 h-4 rounded-full border-3 border-white shadow-lg animate-pulse"></div></div>
        <div class="absolute bottom-4 left-4 right-4 bg-white/90 backdrop-blur rounded-xl p-3 shadow-lg flex justify-between items-center">
            <div class="flex gap-4">
                <span class="flex items-center gap-1 text-[10px]"><span class="w-3 h-3 bg-red-500 rounded-full inline-block"></span> Tr·∫°m KL</span>
                <span class="flex items-center gap-1 text-[10px]"><span class="w-3 h-3 bg-green-500 rounded-full inline-block"></span> M√¥ h√¨nh TN</span>
                <span class="flex items-center gap-1 text-[10px]"><span class="w-3 h-3 bg-yellow-400 rounded-full inline-block"></span> B·∫´y ·∫£nh</span>
            </div>
            <span class="text-[10px] text-gray-400">T·ªça ƒë·ªô: 19¬∞15'N 104¬∞45'E</span>
        </div>
    </div>
</div>`,

            smart: () => `<div class="p-6 slide-up">
    ${pageHeader('SMART Patrol & B·∫´y ·∫£nh', 'H·ªá th·ªëng gi√°m s√°t tu·∫ßn tra r·ª´ng th√¥ng minh', 'T·∫°o l·ªãch tu·∫ßn tra', 'radar')}
    <div class="grid lg:grid-cols-3 gap-4 mb-6">
        ${statCard('footprints', 'L∆∞·ª£t tu·∫ßn tra', '48', 'Th√°ng n√†y', 'bg-teal-50 text-teal-600')}
        ${statCard('camera', 'B·∫´y ·∫£nh', '12', 'Ho·∫°t ƒë·ªông', 'bg-amber-50 text-amber-600')}
        ${statCard('alert-circle', 'Vi ph·∫°m', '03', 'Ph√°t hi·ªán', 'bg-red-50 text-red-600')}
    </div>
    <div class="grid lg:grid-cols-2 gap-6 mb-6">
        <div class="bg-white rounded-2xl border border-gray-100 p-5 shadow-sm">
            <h4 class="font-bold text-sm mb-4 flex items-center gap-2"><i data-lucide="footprints" class="w-4 h-4 text-teal-600"></i> Nh·∫≠t k√Ω tu·∫ßn tra g·∫ßn nh·∫•t</h4>
            <div class="space-y-3">
                <div class="bg-slate-50 p-3 rounded-xl"><div class="flex justify-between mb-1"><span class="text-xs font-bold">Tuy·∫øn Khe Bu - Ch√¢u C∆∞·ªùng</span>${badge('HO√ÄN TH√ÄNH', 'green')}</div><p class="text-[10px] text-gray-500">KLV: Nguy·ªÖn VƒÉn Ho√†ng | 14km | 6h30p | 24/01/2025</p></div>
                <div class="bg-slate-50 p-3 rounded-xl"><div class="flex justify-between mb-1"><span class="text-xs font-bold">Tuy·∫øn Xi√™ng My - B√¨nh Chu·∫©n</span>${badge('ƒêANG ƒêI', 'blue')}</div><p class="text-[10px] text-gray-500">KLV: Tr·∫ßn H·ªØu ƒê·ª©c | GPS ƒëang ghi | B·∫Øt ƒë·∫ßu 06:00</p></div>
                <div class="bg-slate-50 p-3 rounded-xl"><div class="flex justify-between mb-1"><span class="text-xs font-bold">Tuy·∫øn L·ª•c D·∫° - Tam H·ª£p</span>${badge('PH√ÅT HI·ªÜN VI PH·∫†M', 'red')}</div><p class="text-[10px] text-gray-500">B·∫´y th√∫ tr√°i ph√©p | ƒê√£ l·∫≠p bi√™n b·∫£n | 22/01/2025</p></div>
            </div>
        </div>
        <div class="bg-white rounded-2xl border border-gray-100 p-5 shadow-sm">
            <h4 class="font-bold text-sm mb-4 flex items-center gap-2"><i data-lucide="camera" class="w-4 h-4 text-amber-600"></i> B·∫´y ·∫£nh - ·∫¢nh m·ªõi nh·∫•t</h4>
            <div class="grid grid-cols-2 gap-3">
                <div class="bg-slate-100 rounded-xl h-28 relative overflow-hidden group"><img src="https://images.unsplash.com/photo-1474511320723-9a56873571b7?auto=format&fit=crop&q=80&w=300" class="w-full h-full object-cover"><div class="absolute bottom-0 left-0 right-0 bg-black/60 text-white p-2"><p class="text-[10px] font-bold">B·∫´y #03 - Mang l·ªõn</p><p class="text-[8px] opacity-70">23/01 - 04:32 AM</p></div></div>
                <div class="bg-slate-100 rounded-xl h-28 relative overflow-hidden group"><img src="https://images.unsplash.com/photo-1564349683136-77e08dba1ef7?auto=format&fit=crop&q=80&w=300" class="w-full h-full object-cover"><div class="absolute bottom-0 left-0 right-0 bg-black/60 text-white p-2"><p class="text-[10px] font-bold">B·∫´y #07 - Kh·ªâ m·∫∑t ƒë·ªè</p><p class="text-[8px] opacity-70">22/01 - 11:15 PM</p></div></div>
                <div class="bg-slate-100 rounded-xl h-28 relative overflow-hidden group"><img src="https://images.unsplash.com/photo-1504006833117-8886a355efbf?auto=format&fit=crop&q=80&w=300" class="w-full h-full object-cover"><div class="absolute bottom-0 left-0 right-0 bg-black/60 text-white p-2"><p class="text-[10px] font-bold">B·∫´y #11 - Vo·ªçc x√°m</p><p class="text-[8px] opacity-70">21/01 - 08:47 AM</p></div></div>
                <div class="bg-slate-100 rounded-xl h-28 flex items-center justify-center text-gray-400"><div class="text-center"><i data-lucide="image-plus" class="w-6 h-6 mx-auto mb-1"></i><p class="text-[10px]">Th√™m ·∫£nh</p></div></div>
            </div>
        </div>
    </div>
</div>`,

            bio: () => `<div class="p-6 slide-up">
    ${pageHeader('C∆° s·ªü d·ªØ li·ªáu ƒê·ªông - Th·ª±c v·∫≠t', 'Danh l·ª•c sinh v·∫≠t Khu BTTN P√π Hu·ªëng', 'Th√™m lo√†i', 'leaf')}
    <div class="grid lg:grid-cols-3 gap-4 mb-6">
        ${statCard('trees', 'Th·ª±c v·∫≠t', '2,432', 'Lo√†i ghi nh·∫≠n', 'bg-green-50 text-green-600')}
        ${statCard('bird', 'ƒê·ªông v·∫≠t', '865', 'Lo√†i ghi nh·∫≠n', 'bg-blue-50 text-blue-600')}
        ${statCard('alert-octagon', 'S√°ch ƒë·ªè', '127', 'Lo√†i qu√Ω hi·∫øm', 'bg-red-50 text-red-600')}
    </div>
    <div class="mb-4"><input type="text" placeholder="T√¨m ki·∫øm theo t√™n Vi·ªát Nam, t√™n khoa h·ªçc..." class="w-full px-4 py-3 bg-white border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-green-500"></div>
    ${tableWrap(['T√™n lo√†i', 'T√™n khoa h·ªçc', 'B·ªô / H·ªç', 'T√¨nh tr·∫°ng', 'Ghi nh·∫≠n'],
                [
                    ['<div class="flex items-center gap-2"><img src="https://images.unsplash.com/photo-1504006833117-8886a355efbf?auto=format&fit=crop&q=80&w=40" class="w-8 h-8 rounded-lg object-cover"><span class="font-bold">Vo·ªçc x√°m</span></div>', '<em class="text-gray-400">Trachypithecus crepusculus</em>', 'Linh tr∆∞·ªüng / Cercopithecidae', badge('CR - C·ª±c k·ª≥ nguy c·∫•p', 'red'), 'B·∫´y ·∫£nh #07'],
                    ['<div class="flex items-center gap-2"><img src="https://images.unsplash.com/photo-1474511320723-9a56873571b7?auto=format&fit=crop&q=80&w=40" class="w-8 h-8 rounded-lg object-cover"><span class="font-bold">Mang l·ªõn</span></div>', '<em class="text-gray-400">Muntiacus vuquangensis</em>', 'Gu·ªëc ch·∫µn / Cervidae', badge('EN - Nguy c·∫•p', 'orange'), 'Tu·∫ßn tra tuy·∫øn 3'],
                    ['<div class="flex items-center gap-2"><div class="w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center"><i data-lucide="flower-2" class="w-4 h-4 text-green-600"></i></div><span class="font-bold">P∆° mu</span></div>', '<em class="text-gray-400">Fokienia hodginsii</em>', 'B√°ch / Cupressaceae', badge('VU - S·∫Ω nguy c·∫•p', 'amber'), '√î ti√™u chu·∫©n 12'],
                    ['<div class="flex items-center gap-2"><div class="w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center"><i data-lucide="flower-2" class="w-4 h-4 text-green-600"></i></div><span class="font-bold">Sa mu d·∫ßu</span></div>', '<em class="text-gray-400">Cunninghamia konishii</em>', 'B√°ch t√°n / Taxodiaceae', badge('EN - Nguy c·∫•p', 'orange'), 'Khe Bu, 1,200m'],
                ])}
</div>`,

            hr: () => `<div class="p-6 slide-up">
    ${pageHeader('Qu·∫£n l√Ω Nh√¢n s·ª± & Ti·ªÅn l∆∞∆°ng', '124 h·ªì s∆° c√°n b·ªô c√¥ng nh√¢n vi√™n', 'Th√™m c√°n b·ªô', 'user-plus')}
    <div class="grid lg:grid-cols-4 gap-4 mb-6">
        ${statCard('users', 'T·ªïng CB', '124', '', 'bg-blue-50 text-blue-600')}
        ${statCard('user-check', 'ƒêang tr·ª±c', '98', '', 'bg-green-50 text-green-600')}
        ${statCard('user-x', 'Ngh·ªâ ph√©p', '18', '', 'bg-amber-50 text-amber-600')}
        ${statCard('wallet', 'Qu·ªπ l∆∞∆°ng', '1.72B', 'ƒë/th√°ng', 'bg-purple-50 text-purple-600')}
    </div>
    ${tableWrap(['C√°n b·ªô', 'Ch·ª©c v·ª•', 'ƒê∆°n v·ªã', 'Tr·∫°ng th√°i', 'L∆∞∆°ng'],
                [
                    ['<div class="flex items-center gap-2"><div class="w-8 h-8 bg-green-100 text-green-700 rounded-full flex items-center justify-center font-bold text-[10px]">TH</div><span class="font-bold">Tr·∫ßn VƒÉn H√πng</span></div>', 'Ki·ªÉm l√¢m vi√™n', 'Tr·∫°m Ch√¢u C∆∞·ªùng', badge('ƒêANG TR·ª∞C', 'green'), '<span class="font-bold">12.500.000ƒë</span>'],
                    ['<div class="flex items-center gap-2"><div class="w-8 h-8 bg-blue-100 text-blue-700 rounded-full flex items-center justify-center font-bold text-[10px]">NA</div><span class="font-bold">Nguy·ªÖn Th·ªã An</span></div>', 'K·∫ø to√°n', 'VƒÉn ph√≤ng BQL', badge('NGH·ªà PH√âP', 'amber'), '<span class="font-bold">14.200.000ƒë</span>'],
                    ['<div class="flex items-center gap-2"><div class="w-8 h-8 bg-purple-100 text-purple-700 rounded-full flex items-center justify-center font-bold text-[10px]">HD</div><span class="font-bold">Ho√†ng ƒê·ª©c Minh</span></div>', 'Tr·∫°m tr∆∞·ªüng', 'Tr·∫°m Xi√™ng My', badge('ƒêANG TR·ª∞C', 'green'), '<span class="font-bold">16.800.000ƒë</span>'],
                    ['<div class="flex items-center gap-2"><div class="w-8 h-8 bg-pink-100 text-pink-700 rounded-full flex items-center justify-center font-bold text-[10px]">LH</div><span class="font-bold">L√™ Th·ªã Hoa</span></div>', 'Chuy√™n vi√™n', 'Ph√≤ng KH-TC', badge('ƒêANG TR·ª∞C', 'green'), '<span class="font-bold">13.100.000ƒë</span>'],
                ])}
</div>`,

            attendance: () => `<div class="p-6 slide-up">
    ${pageHeader('Ch·∫•m c√¥ng & Ngh·ªâ ph√©p', 'Th√°ng 01/2025', 'Xu·∫•t b·∫£ng c√¥ng', 'download')}
    <div class="grid lg:grid-cols-3 gap-4 mb-6">
        ${statCard('calendar-check', 'Ng√†y c√¥ng TB', '23.5', 'ng√†y/th√°ng', 'bg-green-50 text-green-600')}
        ${statCard('calendar-x', 'T·ªïng ngh·ªâ ph√©p', '18', 'ƒë∆°n th√°ng n√†y', 'bg-amber-50 text-amber-600')}
        ${statCard('clock', 'TƒÉng ca', '156', 'gi·ªù th√°ng n√†y', 'bg-blue-50 text-blue-600')}
    </div>
    ${tableWrap(['C√°n b·ªô', 'ƒê∆°n v·ªã', 'Ng√†y c√¥ng', 'Ngh·ªâ ph√©p', 'TƒÉng ca', 'Ghi ch√∫'],
                [
                    ['<span class="font-bold">Tr·∫ßn VƒÉn H√πng</span>', 'Tr·∫°m Ch√¢u C∆∞·ªùng', '<span class="font-bold text-green-600">26</span>', '0', '12h', badge('ƒê·ª¶ C√îNG', 'green')],
                    ['<span class="font-bold">Nguy·ªÖn Th·ªã An</span>', 'VƒÉn ph√≤ng BQL', '<span class="font-bold text-amber-600">20</span>', '3', '0', 'Ngh·ªâ ·ªëm 2 ng√†y'],
                    ['<span class="font-bold">Ho√†ng ƒê·ª©c Minh</span>', 'Tr·∫°m Xi√™ng My', '<span class="font-bold text-green-600">24</span>', '1', '8h', badge('ƒê·ª¶ C√îNG', 'green')],
                    ['<span class="font-bold">L√™ Th·ªã Hoa</span>', 'Ph√≤ng KH-TC', '<span class="font-bold text-green-600">23</span>', '2', '4h', 'Ngh·ªâ ph√©p nƒÉm'],
                ])}
</div>`,

            docin: () => `<div class="p-6 slide-up">
    ${pageHeader('C√¥ng vƒÉn ƒê·∫øn - ƒêi', 'Qu·∫£n l√Ω lu·ªìng vƒÉn b·∫£n h√†nh ch√≠nh', 'T·∫°o c√¥ng vƒÉn', 'file-plus')}
    <div class="flex gap-2 mb-6">
        <button class="px-4 py-2 bg-green-600 text-white rounded-lg text-xs font-bold">T·∫•t c·∫£</button>
        <button class="px-4 py-2 bg-white border text-gray-500 rounded-lg text-xs font-bold hover:bg-gray-50">C√¥ng vƒÉn ƒë·∫øn</button>
        <button class="px-4 py-2 bg-white border text-gray-500 rounded-lg text-xs font-bold hover:bg-gray-50">C√¥ng vƒÉn ƒëi</button>
        <button class="px-4 py-2 bg-white border text-gray-500 rounded-lg text-xs font-bold hover:bg-gray-50">Ch·ªù x·ª≠ l√Ω</button>
    </div>
    ${tableWrap(['S·ªë hi·ªáu', 'Tr√≠ch y·∫øu', 'Lo·∫°i', 'Ng√†y', 'Tr·∫°ng th√°i'],
                [
                    ['<span class="font-bold text-blue-600">124/UBND-NV</span>', 'V/v tƒÉng c∆∞·ªùng tu·∫ßn tra b·∫£o v·ªá r·ª´ng m√πa kh√¥', badge('ƒê·∫æN', 'blue'), '24/01/2025', badge('M·ªöI', 'green')],
                    ['<span class="font-bold text-green-600">45/BQL-VP</span>', 'B√°o c√°o k·∫øt qu·∫£ tu·∫ßn tra th√°ng 12/2024', badge('ƒêI', 'green'), '22/01/2025', badge('ƒê√É G·ª¨I', 'gray')],
                    ['<span class="font-bold text-blue-600">118/SNN-KL</span>', 'H∆∞·ªõng d·∫´n chi tr·∫£ DVMTR qu√Ω I/2025', badge('ƒê·∫æN', 'blue'), '20/01/2025', badge('ƒêANG X·ª¨ L√ù', 'amber')],
                    ['<span class="font-bold text-green-600">43/BQL-TC</span>', 'ƒê·ªÅ ngh·ªã c·∫•p kinh ph√≠ s·ª≠a ch·ªØa tr·∫°m B√¨nh Chu·∫©n', badge('ƒêI', 'green'), '18/01/2025', badge('CH·ªú DUY·ªÜT', 'orange')],
                ])}
</div>`,

            archive: () => `<div class="p-6 slide-up">
    ${pageHeader('L∆∞u tr·ªØ H·ªì s∆°', 'Kho t√†i li·ªáu s·ªë h√≥a', 'Upload h·ªì s∆°', 'upload')}
    <div class="grid lg:grid-cols-4 gap-4 mb-6">
        ${statCard('folder', 'T·ªïng h·ªì s∆°', '1,847', 't·∫≠p', 'bg-cyan-50 text-cyan-600')}
        ${statCard('hard-drive', 'Dung l∆∞·ª£ng', '280GB', '/2TB', 'bg-purple-50 text-purple-600')}
        ${statCard('search', 'Tra c·ª©u', '342', 'l∆∞·ª£t/th√°ng', 'bg-blue-50 text-blue-600')}
        ${statCard('shield-check', 'Sao l∆∞u', '24/01', 'L·∫ßn cu·ªëi', 'bg-green-50 text-green-600')}
    </div>
    <div class="grid grid-cols-2 md:grid-cols-4 gap-3 mb-6">
        <div class="bg-white p-4 rounded-xl border border-gray-100 text-center feat-card cursor-pointer"><i data-lucide="folder" class="w-8 h-8 text-amber-500 mx-auto mb-2"></i><p class="text-xs font-bold">H·ªì s∆° nh√¢n s·ª±</p><p class="text-[10px] text-gray-400">245 t·∫≠p</p></div>
        <div class="bg-white p-4 rounded-xl border border-gray-100 text-center feat-card cursor-pointer"><i data-lucide="folder" class="w-8 h-8 text-blue-500 mx-auto mb-2"></i><p class="text-xs font-bold">C√¥ng vƒÉn</p><p class="text-[10px] text-gray-400">892 vƒÉn b·∫£n</p></div>
        <div class="bg-white p-4 rounded-xl border border-gray-100 text-center feat-card cursor-pointer"><i data-lucide="folder" class="w-8 h-8 text-green-500 mx-auto mb-2"></i><p class="text-xs font-bold">H·ªì s∆° l√¢m sinh</p><p class="text-[10px] text-gray-400">156 t·∫≠p</p></div>
        <div class="bg-white p-4 rounded-xl border border-gray-100 text-center feat-card cursor-pointer"><i data-lucide="folder" class="w-8 h-8 text-red-500 mx-auto mb-2"></i><p class="text-xs font-bold">T√†i ch√≠nh</p><p class="text-[10px] text-gray-400">554 ch·ª©ng t·ª´</p></div>
    </div>
</div>`,

            warehouse: () => `<div class="p-6 slide-up">
    ${pageHeader('Qu·∫£n l√Ω Kho', 'Theo d√µi v·∫≠t t∆∞, trang thi·∫øt b·ªã', 'Nh·∫≠p kho', 'package-plus')}
    <div class="grid lg:grid-cols-3 gap-4 mb-6">
        ${statCard('package', 'T·ªïng m·∫∑t h√†ng', '386', 'SKU', 'bg-amber-50 text-amber-600')}
        ${statCard('alert-triangle', 'S·∫Øp h·∫øt', '12', 'm·∫∑t h√†ng', 'bg-red-50 text-red-600')}
        ${statCard('trending-up', 'Gi√° tr·ªã kho', '845M', 'VNƒê', 'bg-blue-50 text-blue-600')}
    </div>
    ${tableWrap(['M√£', 'T√™n v·∫≠t t∆∞', 'Lo·∫°i', 'T·ªìn kho', 'ƒêVT', 'Tr·∫°ng th√°i'],
                [
                    ['<span class="font-mono text-xs">VT001</span>', '<span class="font-bold">·ªêng nh√≤m Nikon 8x42</span>', 'Thi·∫øt b·ªã', '08', 'Chi·∫øc', badge('ƒê·ª¶', 'green')],
                    ['<span class="font-mono text-xs">VT015</span>', '<span class="font-bold">GPS Garmin 64sx</span>', 'Thi·∫øt b·ªã', '03', 'Chi·∫øc', badge('ƒê·ª¶', 'green')],
                    ['<span class="font-mono text-xs">VT042</span>', '<span class="font-bold">Pin m√°y b·ªô ƒë√†m</span>', 'Ph·ª• t√πng', '05', 'C·∫∑p', badge('S·∫ÆP H·∫æT', 'amber')],
                    ['<span class="font-mono text-xs">VT088</span>', '<span class="font-bold">D√¢y th·ª´ng 12mm</span>', 'V·∫≠t t∆∞', '120', 'M√©t', badge('ƒê·ª¶', 'green')],
                ])}
</div>`,

            fuel: () => `<div class="p-6 slide-up">
    ${pageHeader('XƒÉng d·∫ßu & Ph∆∞∆°ng ti·ªán', 'Qu·∫£n l√Ω ƒë·ªãnh m·ª©c nhi√™n li·ªáu xe m√°y, m√°y m√≥c', 'C·∫•p xƒÉng', 'fuel')}
    <div class="grid lg:grid-cols-2 gap-6 mb-6">
        <div class="bg-white p-5 rounded-2xl border border-gray-100 shadow-sm">
            <h4 class="font-bold text-sm mb-4 flex items-center gap-2"><i data-lucide="fuel" class="w-4 h-4 text-orange-500"></i> ƒê·ªãnh m·ª©c xƒÉng xe th√°ng 01/2025</h4>
            ${progressBar('37A-123.45 (Xe BQL)', 75, 'green')}
            ${progressBar('37C-009.88 (Tr·∫°m Ch√¢u C∆∞·ªùng)', 20, 'red')}
            ${progressBar('37A-567.89 (Tr·∫°m Xi√™ng My)', 55, 'amber')}
            ${progressBar('37C-111.22 (Tr·∫°m B√¨nh Chu·∫©n)', 90, 'green')}
        </div>
        <div class="bg-white p-5 rounded-2xl border border-gray-100 shadow-sm">
            <h4 class="font-bold text-sm mb-4 flex items-center gap-2"><i data-lucide="wrench" class="w-4 h-4 text-slate-500"></i> B·∫£o tr√¨ m√°y m√≥c</h4>
            <div class="space-y-3">
                <div class="p-3 bg-slate-50 rounded-xl flex justify-between items-center"><span class="text-xs font-bold">M√°y ph√°t ƒëi·ªán Tr·∫°m 2</span>${badge('C·∫¶N B·∫¢O TR√å', 'blue')}</div>
                <div class="p-3 bg-slate-50 rounded-xl flex justify-between items-center"><span class="text-xs font-bold">M√°y c∆∞a Husqvarna 365</span>${badge('T·ªêT', 'green')}</div>
                <div class="p-3 bg-slate-50 rounded-xl flex justify-between items-center"><span class="text-xs font-bold">M√°y b∆°m n∆∞·ªõc Honda</span>${badge('ƒêANG S·ª¨A', 'amber')}</div>
                <div class="p-3 bg-slate-50 rounded-xl flex justify-between items-center"><span class="text-xs font-bold">Xe m√°y Honda XR150L</span>${badge('T·ªêT', 'green')}</div>
            </div>
        </div>
    </div>
</div>`,

            kitchen: () => `<div class="p-6 slide-up">
    ${pageHeader('Qu·∫£n l√Ω Nh√† b·∫øp', 'Th·ª±c ƒë∆°n & chi ph√≠ b·∫øp ƒÉn c√°c tr·∫°m', 'L·∫≠p th·ª±c ƒë∆°n', 'cooking-pot')}
    <div class="grid lg:grid-cols-3 gap-4 mb-6">
        ${statCard('utensils', 'Su·∫•t ƒÉn/ng√†y', '86', 'su·∫•t', 'bg-red-50 text-red-600')}
        ${statCard('wallet', 'Chi ph√≠ TB', '3.87M', 'ƒë/ng√†y', 'bg-amber-50 text-amber-600')}
        ${statCard('receipt', 'Quy·∫øt to√°n', 'Th√°ng 12', 'ƒê√£ duy·ªát', 'bg-green-50 text-green-600')}
    </div>
    <div class="grid lg:grid-cols-2 gap-6">
        <div class="bg-white rounded-2xl border border-gray-100 p-5 shadow-sm">
            <h4 class="font-bold text-sm mb-4">Th·ª±c ƒë∆°n h√¥m nay - VP BQL</h4>
            <div class="space-y-2">
                <div class="p-3 bg-orange-50 rounded-xl"><p class="text-[10px] font-bold text-orange-600 mb-1">B·ªÆA TR∆ØA</p><p class="text-xs">C√° kho t·ªô, Canh chua s∆∞·ªùn, Rau mu·ªëng x√†o t·ªèi, C∆°m tr·∫Øng</p><p class="text-[10px] text-gray-400 mt-1">45.000ƒë/su·∫•t √ó 32 su·∫•t = 1.440.000ƒë</p></div>
                <div class="p-3 bg-blue-50 rounded-xl"><p class="text-[10px] font-bold text-blue-600 mb-1">B·ªÆA T·ªêI</p><p class="text-xs">Th·ªãt kho tr·ª©ng, Canh b√≠ ƒë·ªè, ƒê·∫≠u ph·ª• s·ªët c√†, C∆°m tr·∫Øng</p><p class="text-[10px] text-gray-400 mt-1">45.000ƒë/su·∫•t √ó 28 su·∫•t = 1.260.000ƒë</p></div>
            </div>
        </div>
        <div class="bg-white rounded-2xl border border-gray-100 p-5 shadow-sm">
            <h4 class="font-bold text-sm mb-4">Chi ph√≠ b·∫øp ƒÉn theo tr·∫°m</h4>
            ${progressBar('VP Ban qu·∫£n l√Ω (32 su·∫•t)', 65, 'green')}
            ${progressBar('Tr·∫°m Ch√¢u C∆∞·ªùng (18 su·∫•t)', 35, 'blue')}
            ${progressBar('Tr·∫°m Xi√™ng My (22 su·∫•t)', 45, 'amber')}
            ${progressBar('Tr·∫°m B√¨nh Chu·∫©n (14 su·∫•t)', 28, 'teal')}
        </div>
    </div>
</div>`,

            forest: () => `<div class="p-6 slide-up">
    ${pageHeader('R·ª´ng tr·ªìng & M√¥ h√¨nh Th√≠ nghi·ªám', 'Gi√°m s√°t sinh tr∆∞·ªüng & ƒë√°nh gi√° ch·∫•t l∆∞·ª£ng r·ª´ng', 'Th√™m √¥ Tƒê', 'tree-pine')}
    <div class="grid lg:grid-cols-4 gap-4 mb-6">
        ${statCard('tree-pine', 'Di·ªán t√≠ch RT', '450', 'ha', 'bg-green-50 text-green-600')}
        ${statCard('ruler', '√î ti√™u chu·∫©n', '24', '√¥', 'bg-blue-50 text-blue-600')}
        ${statCard('trending-up', 'TƒÉng tr∆∞·ªüng TB', '15%', '/nƒÉm', 'bg-emerald-50 text-emerald-600')}
        ${statCard('flask-conical', 'M√¥ h√¨nh TN', '06', 'm√¥ h√¨nh', 'bg-purple-50 text-purple-600')}
    </div>
    ${tableWrap(['M√¥ h√¨nh', 'Lo√†i c√¢y', 'Di·ªán t√≠ch', 'NƒÉm tr·ªìng', 'TƒÉng tr∆∞·ªüng', 'ƒê√°nh gi√°'],
                [
                    ['<span class="font-bold">MH-01 Khe Bu</span>', 'P∆° mu, Sa mu d·∫ßu', '5.0 ha', '2020', '<span class="text-green-600 font-bold">+18%</span>', badge('T·ªêT', 'green')],
                    ['<span class="font-bold">MH-02 Ch√¢u C∆∞·ªùng</span>', 'Lim xanh, S·∫øn m·∫≠t', '3.5 ha', '2021', '<span class="text-green-600 font-bold">+12%</span>', badge('T·ªêT', 'green')],
                    ['<span class="font-bold">MH-03 B√¨nh Chu·∫©n</span>', 'Keo lai, B·∫°ch ƒë√†n', '8.0 ha', '2019', '<span class="text-amber-600 font-bold">+8%</span>', badge('TRUNG B√åNH', 'amber')],
                    ['<span class="font-bold">MH-04 Xi√™ng My</span>', 'Qu·∫ø, Tr√°m tr·∫Øng', '4.2 ha', '2022', '<span class="text-green-600 font-bold">+22%</span>', badge('R·∫§T T·ªêT', 'green')],
                ])}
</div>`,

            evaluate: () => `<div class="p-6 slide-up">
    ${pageHeader('ƒê√°nh gi√° NƒÉng l·ª±c C√° nh√¢n', 'B·∫£ng KPI & x·∫øp lo·∫°i c√°n b·ªô qu√Ω I/2025', 'T·∫°o k·ª≥ ƒêG', 'bar-chart-3')}
    ${tableWrap(['C√°n b·ªô', 'ƒê∆°n v·ªã', 'Chuy√™n m√¥n', 'K·ª∑ lu·∫≠t', 'S√°ng ki·∫øn', 'T·ªïng ƒëi·ªÉm', 'X·∫øp lo·∫°i'],
                [
                    ['<span class="font-bold">Tr·∫ßn VƒÉn H√πng</span>', 'Tr·∫°m Ch√¢u C∆∞·ªùng', '<span class="font-bold">92</span>', '<span class="font-bold">95</span>', '<span class="font-bold">85</span>', '<span class="text-lg font-black text-green-600">90.7</span>', badge('XU·∫§T S·∫ÆC', 'green')],
                    ['<span class="font-bold">Ho√†ng ƒê·ª©c Minh</span>', 'Tr·∫°m Xi√™ng My', '<span class="font-bold">88</span>', '<span class="font-bold">90</span>', '<span class="font-bold">80</span>', '<span class="text-lg font-black text-green-600">86.0</span>', badge('T·ªêT', 'blue')],
                    ['<span class="font-bold">Nguy·ªÖn Th·ªã An</span>', 'VƒÉn ph√≤ng BQL', '<span class="font-bold">85</span>', '<span class="font-bold">92</span>', '<span class="font-bold">75</span>', '<span class="text-lg font-black text-blue-600">84.0</span>', badge('T·ªêT', 'blue')],
                    ['<span class="font-bold">L√™ Th·ªã Hoa</span>', 'Ph√≤ng KH-TC', '<span class="font-bold">80</span>', '<span class="font-bold">88</span>', '<span class="font-bold">70</span>', '<span class="text-lg font-black text-blue-600">79.3</span>', badge('KH√Å', 'amber')],
                ])}
</div>`,

            tourism: () => `<div class="p-6 slide-up">
    ${pageHeader('Du l·ªãch sinh th√°i & Gi√°o d·ª•c M√¥i tr∆∞·ªùng', 'Qu·∫£n l√Ω ƒëo√†n tham quan, ch∆∞∆°ng tr√¨nh GDMT', 'Th√™m ƒëo√†n', 'backpack')}
    <div class="grid lg:grid-cols-3 gap-4 mb-6">
        ${statCard('users', 'ƒêo√†n ƒë√£ ƒë√≥n', '34', 'ƒëo√†n/nƒÉm', 'bg-pink-50 text-pink-600')}
        ${statCard('graduation-cap', 'H·ªçc sinh SV', '1,280', 'l∆∞·ª£t/nƒÉm', 'bg-indigo-50 text-indigo-600')}
        ${statCard('wallet', 'Doanh thu', '125M', 'VNƒê/nƒÉm', 'bg-green-50 text-green-600')}
    </div>
    ${tableWrap(['ƒêo√†n', 'ƒê∆°n v·ªã', 'S·ªë l∆∞·ª£ng', 'Ng√†y', 'Tuy·∫øn', 'Tr·∫°ng th√°i'],
                [
                    ['<span class="font-bold">ƒêH Vinh - K65 KHMT</span>', 'ƒêH Vinh', '45 SV + 3 GV', '28/01/2025', 'Tuy·∫øn Khe Bu', badge('S·∫ÆP ƒê·∫æN', 'blue')],
                    ['<span class="font-bold">THPT Qu·ª≥ H·ª£p</span>', 'S·ªü GD Ngh·ªá An', '60 HS + 4 GV', '15/01/2025', 'Tuy·∫øn Ch√¢u C∆∞·ªùng', badge('ƒê√É ƒê√ìN', 'green')],
                    ['<span class="font-bold">Nh√≥m NC Qu·ªëc t·∫ø</span>', 'WWF Vietnam', '8 ng∆∞·ªùi', '05/02/2025', 'To√†n khu', badge('ƒêANG X√âT', 'amber')],
                ])}
</div>`,

            community: () => `<div class="p-6 slide-up">
    ${pageHeader('Ph√°t tri·ªÉn V√πng ƒë·ªám & DVMTR', 'Chi tr·∫£ d·ªãch v·ª• m√¥i tr∆∞·ªùng r·ª´ng cho c·ªông ƒë·ªìng', 'T·∫°o ƒë·ª£t chi tr·∫£', 'home')}
    <div class="grid lg:grid-cols-3 gap-4 mb-6">
        ${statCard('home', 'H·ªô h∆∞·ªüng l·ª£i', '1,245', 'h·ªô', 'bg-rose-50 text-rose-600')}
        ${statCard('map-pin', 'X√£ v√πng ƒë·ªám', '09', 'x√£', 'bg-blue-50 text-blue-600')}
        ${statCard('banknote', 'T·ªïng chi tr·∫£', '2.8B', 'VNƒê/nƒÉm', 'bg-green-50 text-green-600')}
    </div>
    ${tableWrap(['X√£', 'Huy·ªán', 'S·ªë h·ªô', 'Di·ªán t√≠ch giao', 'DVMTR 2024', 'Tr·∫°ng th√°i'],
                [
                    ['<span class="font-bold">B√¨nh Chu·∫©n</span>', 'Con Cu√¥ng', '186 h·ªô', '2,450 ha', '<span class="font-bold text-green-600">420.000.000ƒë</span>', badge('ƒê√É CHI TR·∫¢', 'green')],
                    ['<span class="font-bold">Ch√¢u C∆∞·ªùng</span>', 'Qu·ª≥ H·ª£p', '145 h·ªô', '1,820 ha', '<span class="font-bold text-green-600">315.000.000ƒë</span>', badge('ƒê√É CHI TR·∫¢', 'green')],
                    ['<span class="font-bold">Xi√™ng My</span>', 'T∆∞∆°ng D∆∞∆°ng', '210 h·ªô', '3,100 ha', '<span class="font-bold text-amber-600">520.000.000ƒë</span>', badge('ƒêANG CHI TR·∫¢', 'amber')],
                    ['<span class="font-bold">L·ª•c D·∫°</span>', 'Con Cu√¥ng', '168 h·ªô', '2,680 ha', '<span class="font-bold text-blue-600">450.000.000ƒë</span>', badge('CH·ªú DUY·ªÜT', 'blue')],
                    ['<span class="font-bold">Tam H·ª£p</span>', 'T∆∞∆°ng D∆∞∆°ng', '132 h·ªô', '1,950 ha', '<span class="font-bold text-blue-600">340.000.000ƒë</span>', badge('CH·ªú DUY·ªÜT', 'blue')],
                ])}
</div>`,

            news: () => `<div class="p-6 slide-up">
    ${pageHeader('Tin t·ª©c & Th√¥ng b√°o N·ªôi b·ªô', 'B·∫£ng tin d√†nh cho c√°n b·ªô BQL', 'ƒêƒÉng tin', 'newspaper')}
    <div class="space-y-4">
        <div class="bg-white p-5 rounded-2xl border border-gray-100 shadow-sm feat-card">
            <div class="flex gap-4"><div class="w-12 h-12 bg-red-50 text-red-600 rounded-xl flex items-center justify-center shrink-0"><i data-lucide="alert-triangle" class="w-5 h-5"></i></div>
            <div class="flex-1"><div class="flex justify-between items-start"><h4 class="font-bold text-sm">KH·∫®N: TƒÉng c∆∞·ªùng PCCCR m√πa kh√¥ 2025</h4>${badge('QUAN TR·ªåNG', 'red')}</div><p class="text-xs text-gray-500 mt-1">Y√™u c·∫ßu t·∫•t c·∫£ c√°c tr·∫°m ki·ªÉm l√¢m tƒÉng c∆∞·ªùng tu·∫ßn tra 24/7. C·∫•m l·ª≠a tuy·ªát ƒë·ªëi trong ph√¢n khu b·∫£o v·ªá nghi√™m ng·∫∑t.</p><p class="text-[10px] text-gray-400 mt-2">Ban Gi√°m ƒë·ªëc | 24/01/2025</p></div></div>
        </div>
        <div class="bg-white p-5 rounded-2xl border border-gray-100 shadow-sm feat-card">
            <div class="flex gap-4"><div class="w-12 h-12 bg-blue-50 text-blue-600 rounded-xl flex items-center justify-center shrink-0"><i data-lucide="info" class="w-5 h-5"></i></div>
            <div class="flex-1"><h4 class="font-bold text-sm">L·ªãch h·ªçp giao ban th√°ng 02/2025</h4><p class="text-xs text-gray-500 mt-1">Th·ªùi gian: 08:00 ng√†y 03/02/2025 t·∫°i H·ªôi tr∆∞·ªùng BQL. Y√™u c·∫ßu c√°c Tr·∫°m tr∆∞·ªüng chu·∫©n b·ªã b√°o c√°o th√°ng 01.</p><p class="text-[10px] text-gray-400 mt-2">VƒÉn ph√≤ng | 22/01/2025</p></div></div>
        </div>
        <div class="bg-white p-5 rounded-2xl border border-gray-100 shadow-sm feat-card">
            <div class="flex gap-4"><div class="w-12 h-12 bg-green-50 text-green-600 rounded-xl flex items-center justify-center shrink-0"><i data-lucide="party-popper" class="w-5 h-5"></i></div>
            <div class="flex-1"><h4 class="font-bold text-sm">Ch√∫c m·ª´ng: ƒê·ªìng ch√≠ Ho√†ng ƒê·ª©c Minh nh·∫≠n B·∫±ng khen</h4><p class="text-xs text-gray-500 mt-1">B·∫±ng khen c·ªßa UBND t·ªânh Ngh·ªá An cho th√†nh t√≠ch xu·∫•t s·∫Øc trong c√¥ng t√°c b·∫£o v·ªá r·ª´ng nƒÉm 2024.</p><p class="text-[10px] text-gray-400 mt-2">Ph√≤ng T·ªï ch·ª©c | 20/01/2025</p></div></div>
        </div>
        <div class="bg-white p-5 rounded-2xl border border-gray-100 shadow-sm feat-card">
            <div class="flex gap-4"><div class="w-12 h-12 bg-purple-50 text-purple-600 rounded-xl flex items-center justify-center shrink-0"><i data-lucide="laptop" class="w-5 h-5"></i></div>
            <div class="flex-1"><h4 class="font-bold text-sm">Tri·ªÉn khai ph·∫ßn m·ªÅm P√π Hu·ªëng Digital v2.0</h4><p class="text-xs text-gray-500 mt-1">H·ªá th·ªëng m·ªõi s·∫Ω ch√≠nh th·ª©c v·∫≠n h√†nh t·ª´ 01/03/2025. ƒê·ªÅ ngh·ªã CBCNV tham gia t·∫≠p hu·∫•n theo l·ªãch.</p><p class="text-[10px] text-gray-400 mt-2">Ph√≤ng KH-TC | 18/01/2025</p></div></div>
        </div>
    </div>
</div>`,

            permission: () => `<div class="p-6 slide-up">
    ${pageHeader('Ph√¢n quy·ªÅn H·ªá th·ªëng', 'Qu·∫£n l√Ω vai tr√≤ v√† quy·ªÅn truy c·∫≠p', 'Th√™m vai tr√≤', 'shield')}
    ${tableWrap(['Vai tr√≤', 'M√¥ t·∫£', 'S·ªë ng∆∞·ªùi', 'Quy·ªÅn h·∫°n', 'Tr·∫°ng th√°i'],
                [
                    ['<span class="font-bold text-red-600">Super Admin</span>', 'To√†n quy·ªÅn h·ªá th·ªëng', '1', badge('T·∫§T C·∫¢', 'red'), badge('ACTIVE', 'green')],
                    ['<span class="font-bold text-purple-600">Ban Gi√°m ƒë·ªëc</span>', 'Ph√™ duy·ªát, b√°o c√°o t·ªïng h·ª£p', '3', 'Xem, Duy·ªát, B√°o c√°o', badge('ACTIVE', 'green')],
                    ['<span class="font-bold text-blue-600">Tr∆∞·ªüng ph√≤ng</span>', 'Qu·∫£n l√Ω ph√≤ng ban', '6', 'Xem, Th√™m, S·ª≠a', badge('ACTIVE', 'green')],
                    ['<span class="font-bold text-green-600">Tr·∫°m tr∆∞·ªüng</span>', 'Qu·∫£n l√Ω tr·∫°m ki·ªÉm l√¢m', '8', 'Tr·∫°m, Tu·∫ßn tra, B√°o c√°o', badge('ACTIVE', 'green')],
                    ['<span class="font-bold text-slate-600">Ki·ªÉm l√¢m vi√™n</span>', 'Nh·∫≠p li·ªáu tu·∫ßn tra', '68', 'Tu·∫ßn tra, Xem', badge('ACTIVE', 'green')],
                    ['<span class="font-bold text-gray-600">Nh√¢n vi√™n VP</span>', 'X·ª≠ l√Ω h√†nh ch√≠nh', '38', 'C√¥ng vƒÉn, Kho, B·∫øp', badge('ACTIVE', 'green')],
                ])}
</div>`,

            ai: () => `<div class="p-6 slide-up flex flex-col" style="height:calc(100vh - 64px)">
    <div class="flex items-center gap-3 mb-6 shrink-0">
        <div class="w-12 h-12 bg-green-600 text-white rounded-2xl flex items-center justify-center shadow-lg shadow-green-200"><i data-lucide="bot" class="w-7 h-7"></i></div>
        <div><h3 class="font-bold text-lg">Tr·ª£ l√Ω AI P√π Hu·ªëng</h3><p class="text-xs text-gray-500">Tra c·ª©u Lu·∫≠t L√¢m nghi·ªáp, Ngh·ªã ƒë·ªãnh, Th√¥ng t∆∞ & Quy ch·∫ø n·ªôi b·ªô</p></div>
    </div>
    <div id="chat-box" class="flex-1 space-y-4 overflow-y-auto pr-2 mb-4">
        <div class="flex gap-3"><div class="w-9 h-9 bg-slate-100 text-slate-400 rounded-xl shrink-0 flex items-center justify-center font-bold text-[10px]">USER</div>
        <div class="bg-slate-50 p-4 rounded-2xl rounded-tl-none text-sm border border-gray-100 max-w-[80%]">Quy ƒë·ªãnh v·ªÅ chi tr·∫£ DVMTR cho c√°c h·ªô v√πng ƒë·ªám P√π Hu·ªëng nh∆∞ th·∫ø n√†o?</div></div>
        <div class="flex gap-3 flex-row-reverse"><div class="w-9 h-9 bg-green-600 text-white rounded-xl shrink-0 flex items-center justify-center font-bold text-[10px] shadow">AI</div>
        <div class="bg-green-50 p-4 rounded-2xl rounded-tr-none text-sm border border-green-100 max-w-[80%] leading-relaxed">
            Theo <strong>Ngh·ªã ƒë·ªãnh 156/2018/Nƒê-CP</strong> v√† <strong>Quy ch·∫ø chi tr·∫£ DVMTR</strong> c·ªßa BQL P√π Hu·ªëng:<br><br>
            <strong>1. ƒê·ªëi t∆∞·ª£ng:</strong> H·ªô gia ƒë√¨nh c√≥ h·ª£p ƒë·ªìng nh·∫≠n kho√°n BVR t·∫°i 9 x√£ v√πng ƒë·ªám.<br>
            <strong>2. M·ª©c chi tr·∫£:</strong> Theo ƒë∆°n gi√°/ha/nƒÉm do Qu·ªπ BV&PTR t·ªânh Ngh·ªá An c√¥ng b·ªë (2024: ~400.000ƒë/ha/nƒÉm).<br>
            <strong>3. Quy tr√¨nh:</strong> X√°c nh·∫≠n di·ªán t√≠ch ‚Üí Nghi·ªám thu ‚Üí L·∫≠p danh s√°ch ‚Üí Chi tr·∫£ qua t√†i kho·∫£n ho·∫∑c ti·ªÅn m·∫∑t t·∫°i x√£.<br>
            <strong>4. H·ªì s∆°:</strong> C·∫ßn c·∫≠p nh·∫≠t l√™n <em>P√π Hu·ªëng Digital</em> module "V√πng ƒë·ªám & DVMTR" tr∆∞·ªõc ng√†y 10 h√†ng qu√Ω.
        </div></div>
    </div>
    <div class="mt-auto bg-white border border-gray-200 rounded-2xl p-2.5 shadow-xl flex items-center gap-2 shrink-0">
        <input id="chat-input" onkeydown="if(event.key==='Enter')simulateChat()" type="text" placeholder="H·ªèi v·ªÅ ngh·ªã ƒë·ªãnh, th√¥ng t∆∞, quy tr√¨nh..." class="flex-1 px-4 py-2.5 outline-none text-sm bg-slate-50 rounded-xl">
        <button onclick="simulateChat()" class="bg-green-600 text-white w-10 h-10 rounded-xl flex items-center justify-center hover:bg-green-700 shadow-lg shadow-green-100"><i data-lucide="send" class="w-4 h-4"></i></button>
    </div>
</div>`,
        };

        // ========== NAVIGATION ==========
        function switchMain(tab) {
            const r = document.getElementById('sec-report'),
                d = document.getElementById('sec-demo'),
                g = document.getElementById('sec-gis'),
                rb = document.getElementById('tab-report'),
                db = document.getElementById('tab-demo'),
                gb = document.getElementById('tab-gis'),
                f = document.getElementById('global-footer');
            // Hide all
            r.classList.add('hidden'); d.classList.add('hidden'); g.classList.add('hidden');
            [rb, db, gb].forEach(b => { b.classList.remove('tab-active'); b.classList.add('text-gray-400'); });
            f.classList.add('hidden');
            if (tab === 'report') {
                r.classList.remove('hidden'); rb.classList.add('tab-active'); rb.classList.remove('text-gray-400'); f.classList.remove('hidden');
            } else if (tab === 'demo') {
                d.classList.remove('hidden'); db.classList.add('tab-active'); db.classList.remove('text-gray-400');
                if (!document.getElementById('demo-main').innerHTML) showTab('dashboard', document.querySelector('.sidebar-item.active'));
            } else if (tab === 'gis') {
                g.classList.remove('hidden'); gb.classList.add('tab-active'); gb.classList.remove('text-gray-400');
                setTimeout(initGISMap, 100);
            }
            lucide.createIcons();
        }

        function showTab(id, el) {
            document.querySelectorAll('.sidebar-item').forEach(e => e.classList.remove('active'));
            if (el) el.classList.add('active');
            const main = document.getElementById('demo-main');
            main.innerHTML = PAGES[id] ? PAGES[id]() : `<div class="p-12 flex flex-col items-center justify-center text-gray-400 h-full"><i data-lucide="construction" class="w-12 h-12 mb-3 float"></i><h4 class="font-bold text-lg text-slate-800">Module ƒëang ph√°t tri·ªÉn</h4><p class="text-center max-w-sm mt-1 text-sm">T√≠nh nƒÉng <strong>${id}</strong> s·∫Ω ƒë∆∞·ª£c ho√†n thi·ªán trong giai ƒëo·∫°n ti·∫øp theo.</p></div>`;
            main.scrollTop = 0;
            lucide.createIcons();
            // Mobile: update title bar & close sidebar
            const curMod = MODULES.find(m => m.id === id);
            const titleEl = document.getElementById('mobile-current-page');
            if (titleEl && curMod) titleEl.textContent = curMod.name;
            closeSidebar();
        }

        function simulateChat() {
            const input = document.getElementById('chat-input'), box = document.getElementById('chat-box');
            if (!input || !input.value.trim()) return;
            const q = input.value.trim();
            box.innerHTML += `<div class="flex gap-3"><div class="w-9 h-9 bg-slate-100 text-slate-400 rounded-xl shrink-0 flex items-center justify-center font-bold text-[10px]">USER</div><div class="bg-slate-50 p-4 rounded-2xl rounded-tl-none text-sm border border-gray-100 max-w-[80%]">${q}</div></div>`;
            input.value = ''; box.scrollTop = box.scrollHeight;
            setTimeout(() => {
                const answers = {
                    'default': `H·ªá th·ªëng AI P√π Hu·ªëng ƒë√£ ti·∫øp nh·∫≠n c√¢u h·ªèi. D·ª±a tr√™n <strong>320+ vƒÉn b·∫£n ph√°p lu·∫≠t</strong> ƒë√£ ƒë∆∞·ª£c n·∫°p v√†o h·ªá th·ªëng, t√¥i s·∫Ω tra c·ª©u v√† ph·∫£n h·ªìi chi ti·∫øt. Vui l√≤ng ƒë·ª£i trong gi√¢y l√°t...`,
                };
                box.innerHTML += `<div class="flex gap-3 flex-row-reverse"><div class="w-9 h-9 bg-green-600 text-white rounded-xl shrink-0 flex items-center justify-center font-bold text-[10px] shadow">AI</div><div class="bg-green-50 p-4 rounded-2xl rounded-tr-none text-sm border border-green-100 max-w-[80%] leading-relaxed">${answers['default']}</div></div>`;
                box.scrollTop = box.scrollHeight; lucide.createIcons();
            }, 800);
        }

        // ========== GIS MAP ==========
        let _gisMap = null;
        let _gisLayer = null;
        let _gisColors = null;
        let _gisLoaded = false;

        async function initGISMap() {
            if (_gisMap) { _gisMap.invalidateSize(); return; }
            // Init Leaflet map
            _gisMap = L.map('gis-map', { zoomControl: true, attributionControl: true });
            _gisMap.setView([19.25, 104.75], 10);

            // ESRI Satellite basemap
            L.tileLayer(
                'https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',
                {
                    attribution: 'Tiles &copy; Esri &mdash; Source: Esri, Maxar, GeoEye, Earthstar Geographics',
                    maxZoom: 18
                }
            ).addTo(_gisMap);

            // ESRI label overlay (roads/place names)
            L.tileLayer(
                'https://server.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer/tile/{z}/{y}/{x}',
                { maxZoom: 18, opacity: 0.7 }
            ).addTo(_gisMap);
        }

        async function reloadGISLayer() {
            if (!_gisMap) await initGISMap();

            const VPS = 'http://36.50.26.99:8097';
            const statusEl = document.getElementById('gis-status');
            const loadingEl = document.getElementById('gis-loading');

            // Show loading
            loadingEl.style.display = 'flex';
            statusEl.innerHTML = '<span class="w-2 h-2 bg-amber-400 rounded-full animate-pulse inline-block"></span> ƒêang t·∫£i m√†u s·∫Øc...';

            try {
                // 1. Load color map
                if (!_gisColors) {
                    const r = await fetch(VPS + '/ldlr-colors.json');
                    _gisColors = await r.json();
                }

                // 2. Load GeoJSON (with progress feedback)
                statusEl.innerHTML = '<span class="w-2 h-2 bg-blue-400 rounded-full animate-pulse inline-block"></span> ƒêang t·∫£i GeoJSON (188 MB)...';
                document.getElementById('gis-load-pct').textContent = 'ƒêang t·∫£i, vui l√≤ng ch·ªù...';

                const resp = await fetch(VPS + '/PuHuong-GIS.geojson');
                const total = parseInt(resp.headers.get('Content-Length') || '0');
                const reader = resp.body.getReader();
                let received = 0, chunks = [];
                while (true) {
                    const { done, value } = await reader.read();
                    if (done) break;
                    chunks.push(value);
                    received += value.length;
                    if (total) {
                        const pct = Math.round(received / total * 100);
                        document.getElementById('gis-load-pct').textContent = `${pct}% (${(received / 1048576).toFixed(1)} / ${(total / 1048576).toFixed(0)} MB)`;
                    }
                }
                const text = new TextDecoder().decode(new Uint8Array(chunks.reduce((a, c) => [...a, ...c], [])));
                const geojson = JSON.parse(text);

                // 3. Remove old layer
                if (_gisLayer) _gisMap.removeLayer(_gisLayer);

                // 4. Add styled GeoJSON
                _gisLayer = L.geoJSON(geojson, {
                    style: f => {
                        const vt = f.properties.LDLR_VT || '';
                        const info = _gisColors[vt] || {};
                        return {
                            fillColor: info.color || '#aaaaaa',
                            fillOpacity: 0.75,
                            color: '#ffffff',
                            weight: 0.3,
                            opacity: 0.6
                        };
                    },
                    onEachFeature: (f, layer) => {
                        const p = f.properties;
                        const vt = p.LDLR_VT || '?';
                        const info = _gisColors[vt] || {};
                        const dot = `<span style="display:inline-block;width:12px;height:12px;background:${info.color || '#aaa'};border-radius:3px;margin-right:4px;vertical-align:middle;"></span>`;
                        layer.bindPopup(`
                            <div style="min-width:200px;font-family:Inter,sans-serif;font-size:12px;">
                                <p style="font-weight:800;font-size:13px;margin-bottom:6px;border-bottom:1px solid #eee;padding-bottom:4px;">${dot}${vt}</p>
                                <p style="color:#555;margin-bottom:3px;">${info.label || p.LDLR || ''}</p>
                                <table style="width:100%;font-size:11px;border-collapse:collapse;">
                                    <tr><td style="color:#888;padding:2px 0;">Di·ªán t√≠ch</td><td style="font-weight:600;text-align:right;">${p.DT_HA ? p.DT_HA.toFixed(2) + ' ha' : 'N/A'}</td></tr>
                                    <tr><td style="color:#888;padding:2px 0;">Ch·ªß r·ª´ng</td><td style="font-weight:600;text-align:right;">${p.CHURUNG || p.CHUQUAN || 'N/A'}</td></tr>
                                    <tr><td style="color:#888;padding:2px 0;">T·ªânh</td><td style="font-weight:600;text-align:right;">${p.TINH || 'N/A'}</td></tr>
                                    <tr><td style="color:#888;padding:2px 0;">Huy·ªán</td><td style="font-weight:600;text-align:right;">${p.HUYEN || 'N/A'}</td></tr>
                                    <tr><td style="color:#888;padding:2px 0;">X√£</td><td style="font-weight:600;text-align:right;">${p.XA || 'N/A'}</td></tr>
                                </table>
                            </div>
                        `, { maxWidth: 260 });
                        layer.on('mouseover', function () { this.setStyle({ weight: 2, color: '#ffff00', fillOpacity: 0.9 }); });
                        layer.on('mouseout', function () { _gisLayer.resetStyle(this); });
                    }
                }).addTo(_gisMap);

                // Fly to bounds
                _gisMap.flyToBounds(_gisLayer.getBounds(), { padding: [20, 20], duration: 1.2 });

                // 5. Build legend
                const legendEl = document.getElementById('gis-legend');
                const legendItems = document.getElementById('gis-legend-items');
                const seen = {};
                geojson.features.forEach(f => {
                    const vt = f.properties.LDLR_VT;
                    if (vt && !seen[vt]) { seen[vt] = true; }
                });
                legendItems.innerHTML = Object.keys(seen).sort().map(vt => {
                    const info = _gisColors[vt] || {};
                    return `<div style="display:flex;align-items:center;gap:5px;padding:2px 0;">
                        <span style="width:14px;height:14px;background:${info.color || '#aaa'};border-radius:3px;flex-shrink:0;border:1px solid rgba(0,0,0,.15);"></span>
                        <span style="font-size:10px;font-weight:600;color:#374151;">${vt}</span>
                        <span style="font-size:9px;color:#9ca3af;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">${info.label || ''}</span>
                    </div>`;
                }).join('');
                legendEl.style.display = 'block';

                // 6. Update status
                const count = geojson.features.length;
                statusEl.innerHTML = `<span class="w-2 h-2 bg-green-500 rounded-full inline-block"></span> ƒê√£ t·∫£i ${count.toLocaleString()} feature`;
                _gisLoaded = true;
            } catch (err) {
                statusEl.innerHTML = `<span class="w-2 h-2 bg-red-500 rounded-full inline-block"></span> L·ªói: ${err.message}`;
                console.error('GIS load error:', err);
            } finally {
                loadingEl.style.display = 'none';
            }
        }

        // Init
        lucide.createIcons();
    </script>
</body>

</html>